(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55840,785,33697,10614,40059,69981,95426,27692,2807,59409,7799,91407,46379,25097,27490,18247,76320,e=>{"use strict";let t,r,i,n;var s,o,a,l,u,c,h,d,f,p,y,m,b,v,g=e.i(47167),w=e.i(43476),E=e.i(932),k=function(e,t){return(k=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function S(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var O=function(){return(O=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function T(e,t){var r,i,n,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(l){var u=[a,l];if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(s=0)),s;)try{if(r=1,i&&(n=2&u[0]?i.return:u[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,u[1])).done)return n;switch(i=0,n&&(u=[2&u[0],n.value]),u[0]){case 0:case 1:n=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,i=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===u[0]||2===u[0])){s=0;continue}if(3===u[0]&&(!n||u[1]>n[0]&&u[1]<n[3])){s.label=u[1];break}if(6===u[0]&&s.label<n[1]){s.label=n[1],n=u;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(u);break}n[2]&&s.ops.pop(),s.trys.pop();continue}u=t.call(e,s)}catch(e){u=[6,e],i=0}finally{r=n=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}function x(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}function N(e,t,r){if(r||2==arguments.length)for(var i,n=0,s=t.length;n<s;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function I(e){return this instanceof I?(this.v=e,this):new I(e)}function C(e){return"function"==typeof e}function D(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}"function"==typeof SuppressedError&&SuppressedError;var A=D(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function R(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var F=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,r,i,n,s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var o=x(s),a=o.next();!a.done;a=o.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else s.remove(this);var l=this.initialTeardown;if(C(l))try{l()}catch(e){n=e instanceof A?e.errors:[e]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var c=x(u),h=c.next();!h.done;h=c.next()){var d=h.value;try{j(d)}catch(e){n=null!=n?n:[],e instanceof A?n=N(N([],_(n)),_(e.errors)):n.push(e)}}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}if(n)throw new A(n)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)j(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!=(r=this._finalizers)?r:[]).push(e)}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&R(t,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&R(r,e),e instanceof t&&e._removeParent(this)},(e=new t).closed=!0,t.EMPTY=e,t}(),P=F.EMPTY;function M(e){return e instanceof F||e&&"closed"in e&&C(e.remove)&&C(e.add)&&C(e.unsubscribe)}function j(e){C(e)?e():e.unsubscribe()}var L=void 0,q={setTimeout:function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var n=q.delegate;return(null==n?void 0:n.setTimeout)?n.setTimeout.apply(n,N([e,t],_(r))):setTimeout.apply(void 0,N([e,t],_(r)))},clearTimeout:function(e){var t=q.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function V(e){q.setTimeout(function(){!1;throw e})}function Q(){}var U=B("C",void 0,void 0);function B(e,t,r){return{kind:e,value:t,error:r}}var z=null;function W(e){var t,r,i,n;1;e()}var $=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,M(t)&&t.add(r)):r.destination=Z,r}return S(t,e),t.create=function(e,t,r){return new J(e,t,r)},t.prototype.next=function(e){this.isStopped?X(B("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?X(B("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?X(U,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(F),K=Function.prototype.bind;function G(e,t){return K.call(e,t)}var Y=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){H(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){H(e)}else H(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){H(e)}},e}(),J=function(e){function t(t,r,i){var n,s,o=e.call(this)||this;return C(t)||!t?n={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=i?i:void 0}:n=t,o.destination=new Y(n),o}return S(t,e),t}($);function H(e){1;V(e)}function X(e,t){}var Z={closed:!0,next:Q,error:function(e){throw e},complete:Q},ee="function"==typeof Symbol&&Symbol.observable||"@@observable";function et(e){return e}var er=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var i=this,n=!function(e){return e&&e instanceof $||e&&C(e.next)&&C(e.error)&&C(e.complete)&&M(e)}(e)?new J(e,t,r):e;return W(function(){var e=i.operator,t=i.source;n.add(e?e.call(n,t):t?i._subscribe(n):i._trySubscribe(n))}),n},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=ei(t))(function(t,i){var n=new J({next:function(t){try{e(t)}catch(e){i(e),n.unsubscribe()}},error:i,complete:t});r.subscribe(n)})},e.prototype._subscribe=function(e){var t;return null==(t=this.source)?void 0:t.subscribe(e)},e.prototype[ee]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?et:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=ei(e))(function(e,r){var i;t.subscribe(function(e){return i=e},function(e){return r(e)},function(){return e(i)})})},e.create=function(t){return new e(t)},e}();function ei(e){var t;return null!=(t=null!=e?e:L)?t:Promise}var en=new er(function(e){return e.complete()});function es(e,t){if(!e)throw Error(t)}(s=f||(f={})).NAME="Name",s.DOCUMENT="Document",s.OPERATION_DEFINITION="OperationDefinition",s.VARIABLE_DEFINITION="VariableDefinition",s.SELECTION_SET="SelectionSet",s.FIELD="Field",s.ARGUMENT="Argument",s.FRAGMENT_SPREAD="FragmentSpread",s.INLINE_FRAGMENT="InlineFragment",s.FRAGMENT_DEFINITION="FragmentDefinition",s.VARIABLE="Variable",s.INT="IntValue",s.FLOAT="FloatValue",s.STRING="StringValue",s.BOOLEAN="BooleanValue",s.NULL="NullValue",s.ENUM="EnumValue",s.LIST="ListValue",s.OBJECT="ObjectValue",s.OBJECT_FIELD="ObjectField",s.DIRECTIVE="Directive",s.NAMED_TYPE="NamedType",s.LIST_TYPE="ListType",s.NON_NULL_TYPE="NonNullType",s.SCHEMA_DEFINITION="SchemaDefinition",s.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",s.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",s.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",s.FIELD_DEFINITION="FieldDefinition",s.INPUT_VALUE_DEFINITION="InputValueDefinition",s.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",s.UNION_TYPE_DEFINITION="UnionTypeDefinition",s.ENUM_TYPE_DEFINITION="EnumTypeDefinition",s.ENUM_VALUE_DEFINITION="EnumValueDefinition",s.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",s.DIRECTIVE_DEFINITION="DirectiveDefinition",s.SCHEMA_EXTENSION="SchemaExtension",s.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",s.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",s.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",s.UNION_TYPE_EXTENSION="UnionTypeExtension",s.ENUM_TYPE_EXTENSION="EnumTypeExtension",s.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",s.TYPE_COORDINATE="TypeCoordinate",s.MEMBER_COORDINATE="MemberCoordinate",s.ARGUMENT_COORDINATE="ArgumentCoordinate",s.DIRECTIVE_COORDINATE="DirectiveCoordinate",s.DIRECTIVE_ARGUMENT_COORDINATE="DirectiveArgumentCoordinate";function eo(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){let r;if(null===e)return"null";if(t.includes(e))return"[Circular]";let i=[...t,e];if("function"==typeof e.toJSON){let t=e.toJSON();if(t!==e)return"string"==typeof t?t:eo(t,i)}else if(Array.isArray(e)){var n,s,o=e,a=i;if(0===o.length)return"[]";if(a.length>2)return"[Array]";let t=Math.min(10,o.length),r=o.length-t,l=[];for(let e=0;e<t;++e)l.push(eo(o[e],a));return 1===r?l.push("... 1 more item"):r>1&&l.push(`... ${r} more items`),"["+l.join(", ")+"]"}return n=e,s=i,0===(r=Object.entries(n)).length?"{}":s.length>2?"["+function(e){let t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){let t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(n)+"]":"{ "+r.map(([e,t])=>e+": "+eo(t,s)).join(", ")+" }"}(e,t);default:return String(e)}}class ea{constructor(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class el{constructor(e,t,r,i,n,s){this.kind=e,this.start=t,this.end=r,this.line=i,this.column=n,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}let eu={Name:[],Document:["definitions"],OperationDefinition:["description","name","variableDefinitions","directives","selectionSet"],VariableDefinition:["description","variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["description","name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],TypeCoordinate:["name"],MemberCoordinate:["name","memberName"],ArgumentCoordinate:["name","fieldName","argumentName"],DirectiveCoordinate:["name"],DirectiveArgumentCoordinate:["name","argumentName"]},ec=new Set(Object.keys(eu));function eh(e){let t=null==e?void 0:e.kind;return"string"==typeof t&&ec.has(t)}(o=p||(p={})).QUERY="query",o.MUTATION="mutation",o.SUBSCRIPTION="subscription";let ed=Object.freeze({});function ef(e,t,r=eu){let i,n,s,o=new Map;for(let e of Object.values(f))o.set(e,function(e,t){let r=e[t];return"object"==typeof r?r:"function"==typeof r?{enter:r,leave:void 0}:{enter:e.enter,leave:e.leave}}(t,e));let a=Array.isArray(e),l=[e],u=-1,c=[],h=e,d=[],p=[];do{var y,m,b;let e,f=++u===l.length,v=f&&0!==c.length;if(f){if(n=0===p.length?void 0:d[d.length-1],h=s,s=p.pop(),v)if(a){h=h.slice();let e=0;for(let[t,r]of c){let i=t-e;null===r?(h.splice(i,1),e++):h[i]=r}}else for(let[e,t]of(h={...h},c))h[e]=t;u=i.index,l=i.keys,c=i.edits,a=i.inArray,i=i.prev}else if(s){if(null==(h=s[n=a?u:l[u]]))continue;d.push(n)}if(!Array.isArray(h)){eh(h)||es(!1,`Invalid AST Node: ${eo(h,[])}.`);let r=f?null==(y=o.get(h.kind))?void 0:y.leave:null==(m=o.get(h.kind))?void 0:m.enter;if((e=null==r?void 0:r.call(t,h,n,s,d,p))===ed)break;if(!1===e){if(!f){d.pop();continue}}else if(void 0!==e&&(c.push([n,e]),!f))if(eh(e))h=e;else{d.pop();continue}}void 0===e&&v&&c.push([n,h]),f?d.pop():(i={inArray:a,index:u,keys:l,edits:c,prev:i},l=(a=Array.isArray(h))?h:null!=(b=r[h.kind])?b:[],u=-1,c=[],s&&p.push(s),s=h)}while(void 0!==i)return 0!==c.length?c[c.length-1][1]:e}function ep(e){try{return e()}catch{}}e.s(["__DEV__",0,!1],785),e.s(["maybe",()=>ep],33697);let ey=ep(()=>globalThis)||ep(()=>window)||ep(()=>self)||ep(()=>e.g)||ep(function(){return ep.constructor("return this")()}),em="4.1.3",eb=new Map;function ev(e){let t=eb.get(e)||1;return eb.set(e,t+1),`${e}:${t}:${Math.random().toString(36).slice(2)}`}let eg="Invariant Violation";class ew extends Error{constructor(e=eg){super(e),this.name=eg,Object.setPrototypeOf(this,ew.prototype)}}let eE=["debug","log","warn","error","silent"],ek=eE.indexOf("silent");function eS(e,...t){if(!e)throw eT(...t)}function eO(e){return function(t,...r){if(eE.indexOf(e)>=ek){let i=console[e]||console.log;if("number"==typeof t){let e=t;(t=eN(e))||(t=eI(e,r),r=[])}i(t,...r)}}}function eT(e,...t){return new ew(eN(e,t)||eI(e,t))}eS.debug=eO("debug"),eS.log=eO("log"),eS.warn=eO("warn"),eS.error=eO("error");let ex=Symbol.for("ApolloErrorMessageHandler_"+em);function e_(e){if("string"==typeof e)return e;try{return(function(e,t=0){let r=ev("stringifyForDisplay");return JSON.stringify(e,(e,t)=>void 0===t?r:t,t).split(JSON.stringify(r)).join("<undefined>")})(e,2).slice(0,1e3)}catch{return"<non-serializable>"}}function eN(e,t=[]){if(e)return ey[ex]&&ey[ex](e,t.map(e_))}function eI(e,t=[]){if(e)return"string"==typeof e?t.reduce((e,t)=>e.replace(/%[sdfo]/,e_(t)),e):`An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#${encodeURIComponent(JSON.stringify({version:em,message:e,args:t.map(e_)}))}`}e.s(["invariant",()=>eS,"newInvariantError",()=>eT],10614);let eC={...ey[Symbol.for("apollo.cacheSize")]};function eD(e,t){return e.definitions.find(e=>"OperationDefinition"===e.kind&&!!e.name)?.name.value??t}let eA=()=>Object.create(null),{forEach:eR,slice:eF}=Array.prototype,{hasOwnProperty:eP}=Object.prototype;class eM{constructor(e=!0,t=eA){this.weakness=e,this.makeData=t}lookup(){return this.lookupArray(arguments)}lookupArray(e){let t=this;return eR.call(e,e=>t=t.getChildTrie(e)),eP.call(t,"data")?t.data:t.data=this.makeData(eF.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let t=this;for(let r=0,i=e.length;t&&r<i;++r){let i=t.mapFor(e[r],!1);t=i&&i.get(e[r])}return t&&t.data}remove(){return this.removeArray(arguments)}removeArray(e){let t;if(e.length){let r=e[0],i=this.mapFor(r,!1),n=i&&i.get(r);n&&(t=n.removeArray(eF.call(e,1)),n.data||n.weak||n.strong&&n.strong.size||i.delete(r))}else t=this.data,delete this.data;return t}getChildTrie(e){let t=this.mapFor(e,!0),r=t.get(e);return r||t.set(e,r=new eM(this.weakness,this.makeData)),r}mapFor(e,t){return this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(e)?this.weak||(t?this.weak=new WeakMap:void 0):this.strong||(t?this.strong=new Map:void 0)}}function ej(){}e.s(["Trie",()=>eM],40059);class eL{constructor(e=1/0,t=ej){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){let t=this.getNode(e);return t&&t.value}get size(){return this.map.size}getNode(e){let t=this.map.get(e);if(t&&t!==this.newest){let{older:e,newer:r}=t;r&&(r.older=e),e&&(e.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){let t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)}}function eq(){}let eV="u">typeof WeakRef?WeakRef:function(e){return{deref:()=>e}},eQ="u">typeof WeakMap?WeakMap:Map,eU="u">typeof FinalizationRegistry?FinalizationRegistry:function(){return{register:eq,unregister:eq}};class eB{constructor(e=1/0,t=eq){this.max=e,this.dispose=t,this.map=new eQ,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{let e=this.unfinalizedNodes.values();for(let t=0;t<10024;t++){let t=e.next().value;if(!t)break;this.unfinalizedNodes.delete(t);let r=t.key;delete t.key,t.keyRef=new eV(r),this.registry.register(r,t,t)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new eU(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){let t=this.getNode(e);return t&&t.value}getNode(e){let t=this.map.get(e);if(t&&t!==this.newest){let{older:e,newer:r}=t;r&&(r.older=e),e&&(e.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.scheduleFinalization(r),this.map.set(e,r),this.size++,r.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;let t=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,t),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),t&&this.map.delete(t)}delete(e){let t=this.map.get(e);return!!t&&(this.deleteNode(t),!0)}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}let ez=new WeakSet;function eW(e){!(e.size<=(e.max||-1))&&(ez.has(e)||(ez.add(e),setTimeout(()=>{e.clean(),ez.delete(e)},100)))}let e$=function(e,t){let r=new eB(e,t);return r.set=function(e,t){let r=eB.prototype.set.call(this,e,t);return eW(this),r},r},eK=function(e,t){let r=new eL(e,t);return r.set=function(e,t){let r=eL.prototype.set.call(this,e,t);return eW(this),r},r};function eG(e,{max:t,makeCacheKey:r=e=>e}){let i=new eM(!0),n=new e$(t);return(...t)=>{let s=i.lookupArray(r(t)),o=n.get(s);if(o){if(o.error)throw o.error;return o.result}let a=n.set(s,{});try{return a.result=e(...t)}catch(e){throw a.error=e,e}}}let eY=eG((e,t)=>{eS(e&&"Document"===e.kind,1);let r=e.definitions.filter(e=>"OperationDefinition"===e.kind);t&&eS(1==r.length&&r[0].operation===t,4,t,t,r[0].operation),ef(e,{Field(t,i,n,s){if(t.alias&&("__typename"===t.alias.value||t.alias.value.startsWith("__ac_"))&&t.alias.value!==t.name.value){let i=e,n=[];for(let e of s)(i=i[e]).kind===f.FIELD&&n.push(i.alias?.value||i.name.value);throw n.splice(-1,1,t.name.value),eT(5,t.alias.value,n.join("."),r[0].operation,eD(e,"(anonymous)"))}}})},{max:eC.checkDocument||2e3});function eJ(e){return eY(e),e.definitions.filter(e=>"OperationDefinition"===e.kind)[0]}class eH{static empty(){return new eH(()=>en)}static from(e){if(0===e.length)return eH.empty();let[t,...r]=e;return t.concat(...r)}static split(e,t,r=new eH((e,t)=>t(e))){return Object.assign(new eH((i,n)=>e(i)?t.request(i,n):r.request(i,n)),{left:t,right:r})}static execute(e,t,r){return e.request(function(e,{client:t}){let r={query:e.query,variables:e.variables||{},extensions:e.extensions||{},operationName:eD(e.query),operationType:eJ(e.query).operation},i={...e.context},n=()=>Object.freeze({...i});return Object.defineProperty(r,"setContext",{enumerable:!1,value:e=>{i="function"==typeof e?{...i,...e(n())}:{...i,...e}}}),Object.defineProperty(r,"getContext",{enumerable:!1,value:n}),Object.defineProperty(r,"client",{enumerable:!1,value:t}),r}(t,r),()=>en)}static concat(...e){return eH.from(e)}constructor(e){e&&(this.request=e)}split(e,t,r){return this.concat(eH.split(e,t,r))}concat(...e){return 0===e.length?this:e.reduce(this.combine.bind(this),this)}combine(e,t){return Object.assign(new eH((r,i)=>e.request(r,e=>t.request(e,i))),{left:e,right:t})}request(e,t){throw eT(65)}left;right}function eX(...e){let t={};return e.forEach(e=>{e&&Reflect.ownKeys(e).forEach(r=>{let i=e[r];void 0!==i&&(t[r]=i)})}),t}class eZ extends eH{constructor(e={}){super((t,r)=>{let i=t.client,n=i.queryManager.clientOptions,s=t.getContext();{let{name:r,version:i,transport:o="headers"}=eX({},n.clientAwareness,e.clientAwareness,s.clientAwareness);"headers"===o&&t.setContext(({headers:e})=>({headers:eX({"apollographql-client-name":r,"apollographql-client-version":i},e)}))}{let{transport:r="extensions"}=eX({},n.enhancedClientAwareness,e.enhancedClientAwareness);"extensions"===r&&(t.extensions=eX({clientLibrary:{name:"@apollo/client",version:i.version}},t.extensions)),"headers"===r&&t.setContext(({headers:e})=>({headers:eX({"apollographql-library-name":"@apollo/client","apollographql-library-version":i.version},e)}))}return r(t)})}}function e0(e,t){return eJ(e)?.operation===t}function e1(e,t){return"object"==typeof e&&null!==e&&e[Symbol.for("apollo.error")]===t}function e2(e){Object.defineProperty(e,Symbol.for("apollo.error"),{value:e.name,enumerable:!1,writable:!1,configurable:!1})}function e3(e){return e.map(e=>e.message||"Error message not found.").join("\n")}class e4 extends Error{static is(e){return e1(e,"CombinedProtocolErrors")}static formatMessage=e3;errors;constructor(e){super(e4.formatMessage(e,{defaultFormatMessage:e3})),this.name="CombinedProtocolErrors",this.errors=e,e2(this),Object.setPrototypeOf(this,e4.prototype)}}class e9 extends Error{static is(e){return e1(e,"UnconventionalError")}constructor(e){super("An error of unexpected shape occurred.",{cause:e}),this.name="UnconventionalError",e2(this),Object.setPrototypeOf(this,e9.prototype)}}let e8=Symbol();class e5 extends Error{static is(e){return e1(e,"ServerError")}response;statusCode;bodyText;constructor(e,t){super(e),this.name="ServerError",this.response=t.response,this.statusCode=t.response.status,this.bodyText=t.bodyText,e2(this),Object.setPrototypeOf(this,e5.prototype)}}class e6 extends Error{static is(e){return e1(e,"ServerParseError")}response;statusCode;bodyText;constructor(e,t){super(e instanceof Error?e.message:"Could not parse server response",{cause:e}),this.name="ServerParseError",this.response=t.response,this.statusCode=t.response.status,this.bodyText=t.bodyText,e2(this),Object.setPrototypeOf(this,e6.prototype)}}function e7(e){return null!==e&&"object"==typeof e}let{hasOwnProperty:te}=Object.prototype;async function*tt(e){let t,r=new TextDecoder("utf-8"),i=e.headers?.get("content-type"),n=i?.match(/;\s*boundary=(?:'([^']+)'|"([^"]+)"|([^"'].+?))\s*(?:;|$)/i),s="\r\n--"+(n?n[1]??n[2]??n[3]??"-":"-"),o="";eS(e.body&&"function"==typeof e.body.getReader,62);let a=e.body.getReader(),l=!1,u=!1,c=()=>u&&"-"==o[0]&&"-"==o[1];try{for(;!l;){({value:t,done:l}=await a.read());let e="string"==typeof t?t:r.decode(t),i=o.length-s.length+1,n=(o+=e).indexOf(s,i);for(;n>-1&&!c();){let e;u=!0,[e,o]=[o.slice(0,n),o.slice(n+s.length)];let t=e.indexOf("\r\n\r\n"),r=function(e){let t={};return e.split("\n").forEach(e=>{let r=e.indexOf(":");if(r>-1){let i=e.slice(0,r).trim().toLowerCase(),n=e.slice(r+1).trim();t[i]=n}}),t}(e.slice(0,t))["content-type"];if(r&&-1===r.toLowerCase().indexOf("application/json"))throw Error("Unsupported patch content type: application/json is required.");let i=e.slice(t);i&&(yield i),n=o.indexOf(s)}if(c())return}throw Error("premature end of multipart body")}finally{a.cancel()}}async function tr(e,t){for await(let r of tt(e)){let i=ti(e,r);if(0!=Object.keys(i).length)if(e7(i)&&"payload"in i){if(1===Object.keys(i).length&&null===i.payload)return;let e={...i.payload};"errors"in i&&(e.extensions={...e.extensions,[e8]:new e4(i.errors??[])}),t(e)}else t(i)}}function ti(e,t){if(e.status>=300)throw new e5(`Response not successful: Received status code ${e.status}`,{response:e,bodyText:t});try{return JSON.parse(t)}catch(r){throw new e6(r,{response:e,bodyText:t})}}function tn(e){return 9===e||32===e}function ts(e){return e>=48&&e<=57}function to(e){return e>=97&&e<=122||e>=65&&e<=90}function ta(e){return to(e)||95===e}let tl=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function tu(e){return tc[e.charCodeAt(0)]}let tc=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],th={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>td(e.definitions,"\n\n")},OperationDefinition:{leave(e){let t=tm(e.variableDefinitions)?tp("(\n",td(e.variableDefinitions,"\n"),"\n)"):tp("(",td(e.variableDefinitions,", "),")"),r=tp("",e.description,"\n")+td([e.operation,td([e.name,t]),td(e.directives," ")]," ");return("query"===r?"":r+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:i,description:n})=>tp("",n,"\n")+e+": "+t+tp(" = ",r)+tp(" ",td(i," "))},SelectionSet:{leave:({selections:e})=>tf(e)},Field:{leave({alias:e,name:t,arguments:r,directives:i,selectionSet:n}){let s=tp("",e,": ")+t,o=s+tp("(",td(r,", "),")");return o.length>80&&(o=s+tp("(\n",ty(td(r,"\n")),"\n)")),td([o,td(i," "),n]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+tp(" ",td(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>td(["...",tp("on ",e),td(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:i,selectionSet:n,description:s})=>tp("",s,"\n")+`fragment ${e}${tp("(",td(r,", "),")")} `+`on ${t} ${tp("",td(i," ")," ")}`+n},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>{let r,i,n,s,o,a,l,u,c,h,d;return t?(n=1===(i=(r=e.replace(/"""/g,'\\"""')).split(/\r\n|[\n\r]/g)).length,s=i.length>1&&i.slice(1).every(e=>0===e.length||tn(e.charCodeAt(0))),o=r.endsWith('\\"""'),a=e.endsWith('"')&&!o,l=e.endsWith("\\"),u=a||l,c=!n||e.length>70||u||s||o,h="",d=n&&tn(e.charCodeAt(0)),(c&&!d||s)&&(h+="\n"),h+=r,(c||u)&&(h+="\n"),'"""'+h+'"""'):`"${e.replace(tl,tu)}"`}},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+td(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+td(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+tp("(",td(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:r})=>tp("",e,"\n")+td(["schema",td(t," "),tf(r)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:r})=>tp("",e,"\n")+td(["scalar",t,td(r," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:i,fields:n})=>tp("",e,"\n")+td(["type",t,tp("implements ",td(r," & ")),td(i," "),tf(n)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:r,type:i,directives:n})=>tp("",e,"\n")+t+(tm(r)?tp("(\n",ty(td(r,"\n")),"\n)"):tp("(",td(r,", "),")"))+": "+i+tp(" ",td(n," "))},InputValueDefinition:{leave:({description:e,name:t,type:r,defaultValue:i,directives:n})=>tp("",e,"\n")+td([t+": "+r,tp("= ",i),td(n," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:i,fields:n})=>tp("",e,"\n")+td(["interface",t,tp("implements ",td(r," & ")),td(i," "),tf(n)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:r,types:i})=>tp("",e,"\n")+td(["union",t,td(r," "),tp("= ",td(i," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:r,values:i})=>tp("",e,"\n")+td(["enum",t,td(r," "),tf(i)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:r})=>tp("",e,"\n")+td([t,td(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:r,fields:i})=>tp("",e,"\n")+td(["input",t,td(r," "),tf(i)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:r,repeatable:i,locations:n})=>tp("",e,"\n")+"directive @"+t+(tm(r)?tp("(\n",ty(td(r,"\n")),"\n)"):tp("(",td(r,", "),")"))+(i?" repeatable":"")+" on "+td(n," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>td(["extend schema",td(e," "),tf(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>td(["extend scalar",e,td(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:i})=>td(["extend type",e,tp("implements ",td(t," & ")),td(r," "),tf(i)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:i})=>td(["extend interface",e,tp("implements ",td(t," & ")),td(r," "),tf(i)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>td(["extend union",e,td(t," "),tp("= ",td(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>td(["extend enum",e,td(t," "),tf(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>td(["extend input",e,td(t," "),tf(r)]," ")},TypeCoordinate:{leave:({name:e})=>e},MemberCoordinate:{leave:({name:e,memberName:t})=>td([e,tp(".",t)])},ArgumentCoordinate:{leave:({name:e,fieldName:t,argumentName:r})=>td([e,tp(".",t),tp("(",r,":)")])},DirectiveCoordinate:{leave:({name:e})=>td(["@",e])},DirectiveArgumentCoordinate:{leave:({name:e,argumentName:t})=>td(["@",e,tp("(",t,":)")])}};function td(e,t=""){var r;return null!=(r=null==e?void 0:e.filter(e=>e).join(t))?r:""}function tf(e){return tp("{\n",ty(td(e,"\n")),"\n}")}function tp(e,t,r=""){return null!=t&&""!==t?e+t+r:""}function ty(e){return tp("  ",e.replace(/\n/g,"\n  "))}function tm(e){var t;return null!=(t=null==e?void 0:e.some(e=>e.includes("\n")))&&t}let tb=Object.assign(e=>{let r=t.get(e);return r||(r=ef(e,th),t.set(e,r)),r},{reset(){t=new e$(eC.print||2e3)}});tb.reset();let tv={http:{includeQuery:!0,includeExtensions:!0,preserveHeaderCase:!1},headers:{accept:"application/graphql-response+json,application/json;q=0.9","content-type":"application/json"},options:{method:"POST"}},tg=(e,t)=>t(e),tw=ep(()=>fetch);function tE(){}class tk extends eH{constructor(e={}){let{uri:t="/graphql",fetch:r,print:i=tg,includeExtensions:n,preserveHeaderCase:s,useGETForQueries:o,includeUnusedVariables:a=!1,...l}=e;const u={http:eX({includeExtensions:n,preserveHeaderCase:s}),options:l.fetchOptions,credentials:l.credentials,headers:l.headers};super(e=>{var n,s;let l,c,h,d=(l=e.getContext().uri)||("function"==typeof t?t(e):t||"/graphql"),f=e.getContext(),p={...f.http};e0(e.query,"subscription")&&(p.accept=["multipart/mixed;boundary=graphql;subscriptionSpec=1.0",...p.accept||[]]);let{options:y,body:m}=function(e,t,...r){let i={},n={};r.forEach(e=>{i={...i,...e.options,headers:{...i.headers,...e.headers}},e.credentials&&(i.credentials=e.credentials),i.headers.accept=(e.http?.accept||[]).concat(i.headers.accept).join(","),n={...n,...e.http}}),i.headers=function(e,t){if(!t){let t={};return Object.keys(Object(e)).forEach(r=>{t[r.toLowerCase()]=e[r]}),t}let r={};Object.keys(Object(e)).forEach(t=>{r[t.toLowerCase()]={originalName:t,value:e[t]}});let i={};return Object.keys(r).forEach(e=>{i[r[e].originalName]=r[e].value}),i}(i.headers,n.preserveHeaderCase);let{operationName:s,extensions:o,variables:a,query:l}=e,u={operationName:s,variables:a};return n.includeExtensions&&Object.keys(o||{}).length&&(u.extensions=o),n.includeQuery&&(u.query=t(l,tb)),{options:i,body:u}}(e,i,tv,u,{http:p,options:f.fetchOptions,credentials:f.credentials,headers:f.headers});m.variables&&!a&&(n=m.variables,s=e.query,c={...n},h=new Set(Object.keys(n)),ef(s,{Variable(e,t,r){r&&"VariableDefinition"!==r.kind&&h.delete(e.name.value)}}),h.forEach(e=>{delete c[e]}),m.variables=c);let b=new AbortController,v=()=>{b=void 0};if(y.signal){let e=y.signal,t=()=>{b?.abort(e.reason)};e.addEventListener("abort",t,{once:!0}),v=()=>{b?.signal.removeEventListener("abort",v),b=void 0,e.removeEventListener("abort",t),v=tE},b.signal.addEventListener("abort",v,{once:!0})}return y.signal=b.signal,o&&!e0(e.query,"mutation")&&(y.method="GET"),new er(t=>{if("GET"===y.method){let{newURI:e,parseError:t}=function(e,t){let r=[],i=(e,t)=>{r.push(`${e}=${encodeURIComponent(t)}`)};if("query"in t&&i("query",t.query),t.operationName&&i("operationName",t.operationName),t.variables){let e;try{e=JSON.stringify(t.variables)}catch(e){return{parseError:e}}i("variables",e)}if(t.extensions){let e;try{e=JSON.stringify(t.extensions)}catch(e){return{parseError:e}}i("extensions",e)}let n="",s=e,o=e.indexOf("#");-1!==o&&(n=e.substr(o),s=e.substr(0,o));let a=-1===s.indexOf("?")?"?":"&";return{newURI:s+a+r.join("&")+n}}(d,m);if(t)throw t;d=e}else y.body=JSON.stringify(m);let i=r||ep(()=>fetch)||tw,n=t.next.bind(t);return i(d,y).then(t=>{e.setContext({response:t});let r=t.headers?.get("content-type");return null!==r&&/^multipart\/mixed/i.test(r)?tr(t,n):(t=>t.text().then(r=>{let i=function(e,t){let r=e.headers.get("content-type");if(r?.includes("application/graphql-response+json"))try{return JSON.parse(t)}catch(r){throw new e6(r,{response:e,bodyText:t})}return ti(e,t)}(t,r);if(!Array.isArray(i)&&!te.call(i,"data")&&!te.call(i,"errors"))throw new e5(`Server response was malformed for query '${Array.isArray(e)?e.map(e=>e.operationName):e.operationName}'.`,{response:t,bodyText:r});return i}))(t).then(n)}).then(()=>{v(),t.complete()}).catch(e=>{v(),t.error(e)}),()=>{b&&b.abort()}})})}}class tS extends eH{constructor(e={}){const{left:t,right:r,request:i}=eH.from([new eZ(e),new tk(e)]);super(i),Object.assign(this,{left:t,right:r})}}let{toString:tO,hasOwnProperty:tT}=Object.prototype,tx=Function.prototype.toString,t_=new Map;function tN(e,t){try{return function e(t,r){if(t===r)return!0;let i=tO.call(t);if(i!==tO.call(r))return!1;switch(i){case"[object Array]":if(t.length!==r.length)break;case"[object Object]":{if(tA(t,r))return!0;let i=tI(t),n=tI(r),s=i.length;if(s!==n.length)return!1;for(let e=0;e<s;++e)if(!tT.call(r,i[e]))return!1;for(let n=0;n<s;++n){let s=i[n];if(!e(t[s],r[s]))return!1}return!0}case"[object Error]":return t.name===r.name&&t.message===r.message;case"[object Number]":if(t!=t)return r!=r;case"[object Boolean]":case"[object Date]":return+t==+r;case"[object RegExp]":case"[object String]":return t==`${r}`;case"[object Map]":case"[object Set]":{if(t.size!==r.size)return!1;if(tA(t,r))return!0;let n=t.entries(),s="[object Map]"===i;for(;;){let t=n.next();if(t.done)break;let[i,o]=t.value;if(!r.has(i)||s&&!e(o,r.get(i)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),r=new Uint8Array(r);case"[object DataView]":{let e=t.byteLength;if(e===r.byteLength)for(;e--&&t[e]===r[e];);return -1===e}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var n,s;let e,i=tx.call(t);if(i!==tx.call(r))return!1;return n=i,s=tD,!((e=n.length-s.length)>=0)||n.indexOf(s,e)!==e}}return!1}(e,t)}finally{t_.clear()}}function tI(e){return Object.keys(e).filter(tC,e)}function tC(e){return void 0!==this[e]}let tD="{ [native code] }";function tA(e,t){let r=t_.get(e);if(r){if(r.has(t))return!0}else t_.set(e,r=new Set);return r.add(t),!1}e.s(["equal",()=>tN],69981);let tR=null,tF={},tP=1;function tM(e){try{return e()}catch(e){}}let tj="@wry/context:Slot",tL=tM(()=>globalThis)||tM(()=>e.g)||Object.create(null),tq=tL[tj]||Array[tj]||function(e){try{Object.defineProperty(tL,tj,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(class{constructor(){this.id=["slot",tP++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=tR;e;e=e.parent)if(this.id in e.slots){let t=e.slots[this.id];if(t===tF)break;return e!==tR&&(tR.slots[this.id]=t),!0}return tR&&(tR.slots[this.id]=tF),!1}getValue(){if(this.hasValue())return tR.slots[this.id]}withValue(e,t,r,i){let n={__proto__:null,[this.id]:e},s=tR;tR={parent:s,slots:n};try{return t.apply(i,r)}finally{tR=s}}static bind(e){let t=tR;return function(){let r=tR;try{return tR=t,e.apply(this,arguments)}finally{tR=r}}}static noContext(e,t,r){if(!tR)return e.apply(r,t);{let i=tR;try{return tR=null,e.apply(r,t)}finally{tR=i}}}}),{bind:tV,noContext:tQ}=tq,tU=new tq,{hasOwnProperty:tB}=Object.prototype,tz=Array.from||function(e){let t=[];return e.forEach(e=>t.push(e)),t};function tW(e){let{unsubscribe:t}=e;"function"==typeof t&&(e.unsubscribe=void 0,t())}let t$=[];function tK(e,t){if(!e)throw Error(t||"assertion failure")}function tG(e,t){let r=e.length;return r>0&&r===t.length&&e[r-1]===t[r-1]}function tY(e){switch(e.length){case 0:throw Error("unknown value");case 1:return e[0];case 2:throw e[1]}}class tJ{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++tJ.count}peek(){if(1===this.value.length&&!tZ(this))return tH(this),this.value[0]}recompute(e){var t,r,i;return tK(!this.recomputing,"already recomputing"),tH(this),tZ(this)?(t=this,r=e,t4(t),tU.withValue(t,tX,[t,r]),function(e,t){if("function"==typeof e.subscribe)try{tW(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(t,r)&&((i=t).dirty=!1,tZ(i)||function(e){t0(e,t2)}(i)),tY(t.value)):tY(this.value)}setDirty(){var e;this.dirty||(this.dirty=!0,e=this,t0(e,t1),tW(this))}dispose(){this.setDirty(),t4(this),t0(this,(e,t)=>{e.setDirty(),t9(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=t$.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(tz(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),t$.push(this.deps),this.deps=null)}}function tH(e){let t=tU.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),tZ(e)?t1(t,e):t2(t,e),t}function tX(e,t){let r;e.recomputing=!0;let{normalizeResult:i}=e;i&&1===e.value.length&&(r=e.value.slice(0)),e.value.length=0;try{if(e.value[0]=e.fn.apply(null,t),i&&r&&!tG(r,e.value))try{e.value[0]=i(e.value[0],r[0])}catch(e){}}catch(t){e.value[1]=t}e.recomputing=!1}function tZ(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}tJ.count=0;function t0(e,t){let r=e.parents.size;if(r){let i=tz(e.parents);for(let n=0;n<r;++n)t(i[n],e)}}function t1(e,t){tK(e.childValues.has(t)),tK(tZ(t));let r=!tZ(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=t$.pop()||new Set;e.dirtyChildren.add(t),r&&t0(e,t1)}function t2(e,t){tK(e.childValues.has(t)),tK(!tZ(t));let r=e.childValues.get(t);0===r.length?e.childValues.set(t,t.value.slice(0)):tG(r,t.value)||e.setDirty(),t3(e,t),tZ(e)||t0(e,t2)}function t3(e,t){let r=e.dirtyChildren;r&&(r.delete(t),0===r.size&&(t$.length<100&&t$.push(r),e.dirtyChildren=null))}function t4(e){e.childValues.size>0&&e.childValues.forEach((t,r)=>{t9(e,r)}),e.forgetDeps(),tK(null===e.dirtyChildren)}function t9(e,t){t.parents.delete(e),e.childValues.delete(t),t3(e,t)}let t8={setDirty:!0,dispose:!0,forget:!0};function t5(e){let t=new Map,r=e&&e.subscribe;function i(e){let i=tU.getValue();if(i){let n=t.get(e);n||t.set(e,n=new Set),i.dependOn(n),"function"==typeof r&&(tW(n),n.unsubscribe=r(e))}}return i.dirty=function(e,r){let i=t.get(e);if(i){let n=r&&tB.call(t8,r)?r:"setDirty";tz(i).forEach(e=>e[n]()),t.delete(e),tW(i)}},i}function t6(...e){return(r||(r=new eM("function"==typeof WeakMap))).lookupArray(e)}let t7=new Set;function re(e,{max:t=65536,keyArgs:r,makeCacheKey:i=t6,normalizeResult:n,subscribe:s,cache:o=eL}=Object.create(null)){let a="function"==typeof o?new o(t,e=>e.dispose()):o,l=function(){let t=i.apply(null,r?r.apply(null,arguments):arguments);if(void 0===t)return e.apply(null,arguments);let o=a.get(t);o||(a.set(t,o=new tJ(e)),o.normalizeResult=n,o.subscribe=s,o.forget=()=>a.delete(t));let l=o.recompute(Array.prototype.slice.call(arguments));return a.set(t,o),t7.add(a),tU.hasValue()||(t7.forEach(e=>e.clean()),t7.clear()),l};function u(e){let t=e&&a.get(e);t&&t.setDirty()}function c(e){let t=e&&a.get(e);if(t)return t.peek()}function h(e){return!!e&&a.delete(e)}return Object.defineProperty(l,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(l.options={max:t,keyArgs:r,makeCacheKey:i,normalizeResult:n,subscribe:s,cache:a}),l.dirtyKey=u,l.dirty=function(){u(i.apply(null,arguments))},l.peekKey=c,l.peek=function(){return c(i.apply(null,arguments))},l.forgetKey=h,l.forget=function(){return h(i.apply(null,arguments))},l.makeCacheKey=i,l.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(l)}let rt={kind:f.FIELD,name:{kind:f.NAME,value:"__typename"}},rr=Object.assign(function(e){return ef(e,{SelectionSet:{enter(e,t,r){if(r&&r.kind===f.OPERATION_DEFINITION)return;let{selections:i}=e;if(!(!i||i.some(e=>e.kind===f.FIELD&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))))&&!(r.kind===f.FIELD&&r.directives&&r.directives.some(e=>"export"===e.name.value)))return{...e,selections:[...i,rt]}}}})},{added:e=>e===rt}),ri=Object.assign(function(e){return JSON.stringify(e,rn)},{reset(){i=new eK(eC.canonicalStringify||1e3)}});function rn(e,t){if(t&&"object"==typeof t){let e=Object.getPrototypeOf(t);if(e===Object.prototype||null===e){let r=Object.keys(t);if(r.every(rs))return t;let n=JSON.stringify(r),s=i.get(n);if(!s){r.sort();let e=JSON.stringify(r);s=i.get(e)||r,i.set(n,s),i.set(e,s)}let o=Object.create(e);return s.forEach(e=>{o[e]=t[e]}),o}}return t}function rs(e,t,r){return 0===t||r[t-1]<=e}function ro(e){return e}ri.reset(),e.s(["canonicalStringify",0,ri],95426);class ra{transform;cached;resultCache=new WeakSet;getCacheKey(e){return[e]}static identity(){return new ra(ro,{cache:!1})}static split(e,t,r=ra.identity()){return Object.assign(new ra(i=>(e(i)?t:r).transformDocument(i),{cache:!1}),{left:t,right:r})}constructor(e,t={}){this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),this.cached=!1!==t.cache,this.resetCache()}resetCache(){if(this.cached){let e=new eM;this.performWork=re(ra.prototype.performWork.bind(this),{makeCacheKey:t=>{let r=this.getCacheKey(t);if(r)return eS(Array.isArray(r),20),e.lookupArray(r)},max:eC["documentTransform.cache"],cache:eB})}}performWork(e){return eY(e),this.transform(e)}transformDocument(e){if(this.resultCache.has(e))return e;let t=this.performWork(e);return this.resultCache.add(t),t}concat(e){return Object.assign(new ra(t=>e.transformDocument(this.transformDocument(t)),{cache:!1}),{left:this,right:e})}left;right}function rl(e){return!!(e&&"object"==typeof e&&"string"==typeof e.__ref)}function ru(e){return function(t){if(C(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}function rc(e,t,r,i,n){return new rh(e,t,r,i,n)}var rh=function(e){function t(t,r,i,n,s,o){var a=e.call(this,t)||this;return a.onFinalize=s,a.shouldUnsubscribe=o,a._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=n?function(e){try{n(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=i?function(){try{i()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return S(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),r||null==(t=this.onFinalize)||t.call(this)}},t}($);function rd(e,t){return e===t}function rf(e,t){return ru(function(r,i){var n=0;r.subscribe(rc(i,function(r){i.next(e.call(t,r,n++))}))})}var rp=D(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ry=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return S(t,e),t.prototype.lift=function(e){var t=new rm(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new rp},t.prototype.next=function(e){var t=this;W(function(){var r,i;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var n=x(t.currentObservers),s=n.next();!s.done;s=n.next())s.value.next(e)}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}}})},t.prototype.error=function(e){var t=this;W(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}})},t.prototype.complete=function(){var e=this;W(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null==(e=this.observers)?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this.hasError,i=this.isStopped,n=this.observers;return r||i?P:(this.currentObservers=null,n.push(e),new F(function(){t.currentObservers=null,R(n,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,r=this.thrownError,i=this.isStopped;t?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new er;return e.source=this,e},t.create=function(e,t){return new rm(e,t)},t}(er),rm=function(e){function t(t,r){var i=e.call(this)||this;return i.destination=t,i.source=r,i}return S(t,e),t.prototype.next=function(e){var t,r;null==(r=null==(t=this.destination)?void 0:t.next)||r.call(t,e)},t.prototype.error=function(e){var t,r;null==(r=null==(t=this.destination)?void 0:t.error)||r.call(t,e)},t.prototype.complete=function(){var e,t;null==(t=null==(e=this.destination)?void 0:e.complete)||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!=(r=null==(t=this.source)?void 0:t.subscribe(e))?r:P},t}(ry),rb={now:function(){return(rb.delegate||Date).now()},delegate:void 0},rv=function(e){function t(t,r,i){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===i&&(i=rb);var n=e.call(this)||this;return n._bufferSize=t,n._windowTime=r,n._timestampProvider=i,n._buffer=[],n._infiniteTimeWindow=!0,n._infiniteTimeWindow=r===1/0,n._bufferSize=Math.max(1,t),n._windowTime=Math.max(1,r),n}return S(t,e),t.prototype.next=function(t){var r=this.isStopped,i=this._buffer,n=this._infiniteTimeWindow,s=this._timestampProvider,o=this._windowTime;!r&&(i.push(t),n||i.push(s.now()+o)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,i=this._buffer.slice(),n=0;n<i.length&&!e.closed;n+=r?1:2)e.next(i[n]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,r=this._buffer,i=this._infiniteTimeWindow,n=(i?1:2)*e;if(e<1/0&&n<r.length&&r.splice(0,r.length-n),!i){for(var s=t.now(),o=0,a=1;a<r.length&&r[a]<=s;a+=2)o=a;o&&r.splice(0,o+1)}},t}(ry),rg=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function rw(e){return C(null==e?void 0:e.then)}function rE(e){return Symbol.asyncIterator&&C(null==e?void 0:e[Symbol.asyncIterator])}function rk(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var rS="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function rO(e){return C(null==e?void 0:e[rS])}function rT(e){return function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),i[Symbol.asyncIterator]=function(){return this},i;function o(e,t){n[e]&&(i[e]=function(t){return new Promise(function(r,i){s.push([e,t,r,i])>1||a(e,t)})},t&&(i[e]=t(i[e])))}function a(e,t){try{var r;(r=n[e](t)).value instanceof I?Promise.resolve(r.value.v).then(l,u):c(s[0][2],r)}catch(e){c(s[0][3],e)}}function l(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function(){var t,r,i;return T(this,function(n){switch(n.label){case 0:t=e.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,I(t.read())];case 3:if(i=(r=n.sent()).value,!r.done)return[3,5];return[4,I(void 0)];case 4:return[2,n.sent()];case 5:return[4,I(i)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function rx(e){return C(null==e?void 0:e.getReader)}function r_(e){if(e instanceof er)return e;if(null!=e){var t,r,i,n;if(C(e[ee])){return t=e,new er(function(e){var r=t[ee]();if(C(r.subscribe))return r.subscribe(e);throw TypeError("Provided object does not correctly implement Symbol.observable")})}if(rg(e)){return r=e,new er(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}if(rw(e)){return i=e,new er(function(e){i.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,V)})}if(rE(e))return rN(e);if(rO(e)){return n=e,new er(function(e){var t,r;try{for(var i=x(n),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.complete()})}if(rx(e))return rN(rT(e))}throw rk(e)}function rN(e){return new er(function(t){(function(e,t){var r,i,n,s,o,a,l,u;return o=this,a=void 0,l=void 0,u=function(){var o;return T(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),r=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=x(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise(function(i,n){var s,o,a;s=i,o=n,a=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){s({value:e,done:a})},o)})}}}(e),a.label=1;case 1:return[4,r.next()];case 2:if((i=a.sent()).done)return[3,4];if(o=i.value,t.next(o),t.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return n={error:a.sent()},[3,11];case 6:if(a.trys.push([6,,9,10]),!(i&&!i.done&&(s=r.return)))return[3,8];return[4,s.call(r)];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(n)throw n.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})},new(l||(l=Promise))(function(e,t){function r(e){try{n(u.next(e))}catch(e){t(e)}}function i(e){try{n(u.throw(e))}catch(e){t(e)}}function n(t){var n;t.done?e(t.value):((n=t.value)instanceof l?n:new l(function(e){e(n)})).then(r,i)}n((u=u.apply(o,a||[])).next())})})(e,t).catch(function(e){return t.error(e)})})}function rI(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new ry}:t,i=e.resetOnError,n=void 0===i||i,s=e.resetOnComplete,o=void 0===s||s,a=e.resetOnRefCountZero,l=void 0===a||a;return function(e){var t,i,s,a=0,u=!1,c=!1,h=function(){null==i||i.unsubscribe(),i=void 0},d=function(){h(),t=s=void 0,u=c=!1},f=function(){var e=t;d(),null==e||e.unsubscribe()};return ru(function(e,p){a++,c||u||h();var y=s=null!=s?s:r();p.add(function(){0!=--a||c||u||(i=rC(f,l))}),y.subscribe(p),!t&&a>0&&(t=new J({next:function(e){return y.next(e)},error:function(e){c=!0,h(),i=rC(d,n,e),y.error(e)},complete:function(){u=!0,h(),i=rC(d,o),y.complete()}}),r_(e).subscribe(t))})(e)}}function rC(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(!0===t)return void e();if(!1!==t){var n=new J({next:function(){n.unsubscribe(),e()}});return r_(t.apply(void 0,N([],_(r)))).subscribe(n)}}function rD(e,t,r){var i,n,s,o,a=!1;return e&&"object"==typeof e?(o=void 0===(i=e.bufferSize)?1/0:i,t=void 0===(n=e.windowTime)?1/0:n,a=void 0!==(s=e.refCount)&&s,r=e.scheduler):o=null!=e?e:1/0,rI({connector:function(){return new rv(o,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function rA(e,t,r){var i=C(e)||t||r?{next:e,error:t,complete:r}:e;return i?ru(function(e,t){null==(r=i.subscribe)||r.call(i);var r,n=!0;e.subscribe(rc(t,function(e){var r;null==(r=i.next)||r.call(i,e),t.next(e)},function(){var e;n=!1,null==(e=i.complete)||e.call(i),t.complete()},function(e){var r;n=!1,null==(r=i.error)||r.call(i,e),t.error(e)},function(){var e,t;n&&(null==(e=i.unsubscribe)||e.call(i)),null==(t=i.finalize)||t.call(i)}))}):et}var rR=function(e){function t(t,r){return e.call(this)||this}return S(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(F),rF={setInterval:function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var n=rF.delegate;return(null==n?void 0:n.setInterval)?n.setInterval.apply(n,N([e,t],_(r))):setInterval.apply(void 0,N([e,t],_(r)))},clearInterval:function(e){var t=rF.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},rP=function(e){function t(t,r){var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.pending=!1,i}return S(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r,i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,t)),this.pending=!0,this.delay=t,this.id=null!=(r=this.id)?r:this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),rF.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&rF.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,i=!1;try{this.work(e)}catch(e){i=!0,r=e||Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,i=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,R(i,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(rR),rM=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=rb.now,e}(),rj=new(function(e){function t(t,r){void 0===r&&(r=rM.now);var i=e.call(this,t,r)||this;return i.actions=[],i._active=!1,i}return S(t,e),t.prototype.flush=function(e){var t,r=this.actions;if(this._active)return void r.push(e);this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=r.shift())if(this._active=!1,t){for(;e=r.shift();)e.unsubscribe();throw t}},t}(rM))(rP);function rL(e=[]){let t={};return e.forEach(e=>{t[e.name.value]=e}),t}function rq(e){return e.definitions.filter(e=>"FragmentDefinition"===e.kind)}function rV(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":{let r=e.name.value;if("function"==typeof t)return t(r);let i=t&&t[r];return eS(i,9,r),i||null}default:return null}}function rQ(e){let t;for(let r of(eY(e),e.definitions)){if("OperationDefinition"===r.kind)return r;"FragmentDefinition"!==r.kind||t||(t=r)}if(t)return t;throw eT(12)}function rU(e){return"Field"===e.kind}function rB(e){return e.alias?e.alias.value:e.name.value}function rz({directives:e},t){var r;let i;return!e||!e.length||(i=[],(r=e)&&r.length&&r.forEach(e=>{if(!function({name:{value:e}}){return"skip"===e||"include"===e}(e))return;let t=e.arguments,r=e.name.value;eS(t&&1===t.length,16,r);let n=t[0];eS(n.name&&"if"===n.name.value,17,r);let s=n.value;eS(s&&("Variable"===s.kind||"BooleanValue"===s.kind),18,r),i.push({directive:e,ifArgument:n})}),i).every(({directive:e,ifArgument:r})=>{let i=!1;return"Variable"===r.value.kind?eS(void 0!==(i=t&&t[r.value.name.value]),15,e.name.value):i=r.value.value,"skip"===e.name.value?!i:i})}function rW(e,{data:t,...r},{data:i,...n},s){return tN(r,n)&&function e(t,r,i,n){if(r===i)return!0;let s=new Set;return t.selections.every(t=>{if(s.has(t)||(s.add(t),!rz(t,n.variables)||r$(t)))return!0;if(rU(t)){let s=rB(t),o=r&&r[s],a=i&&i[s],l=t.selectionSet;if(!l)return tN(o,a);let u=Array.isArray(o),c=Array.isArray(a);if(u!==c)return!1;if(u&&c){let t=o.length;if(a.length!==t)return!1;for(let r=0;r<t;++r)if(!e(l,o[r],a[r],n))return!1;return!0}return e(l,o,a,n)}{let s=rV(t,n.fragmentMap);if(s)return!!r$(s)||e(s.selectionSet,r,i,n)}})}(rQ(e).selectionSet,t,i,{fragmentMap:rL(rq(e)),variables:s})}function r$(e){return!!e.directives&&e.directives.some(rK)}function rK(e){return"nonreactive"===e.name.value}function rG(e,t){let r=t,i=[];return e.definitions.forEach(e=>{if("OperationDefinition"===e.kind)throw eT(10,e.operation,e.name?` named '${e.name.value}'`:"");"FragmentDefinition"===e.kind&&i.push(e)}),void 0===r&&(eS(1===i.length,11,i.length),r=i[0].name.value),{...e,definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}},...e.definitions]}}let rY=eG(function(e,t,r){let i,n;function s(e){return e!==i&&(n=r(i=e)),n}return Object.assign(e.pipe(rf(s),rD({bufferSize:1,refCount:!0})),{getCurrentResult:()=>s(e.getCurrentResult())})},{max:1,makeCacheKey:e=>e.slice(0,2)});class rJ{assumeImmutableResults=!1;lookupFragment(e){return null}batch(e){let t,r="string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction(()=>t=e.update(this),r),t}recordOptimisticTransaction(e,t){this.performTransaction(e,t)}transformDocument(e){return e}transformForLink(e){return e}identify(e){}gc(){return[]}modify(e){return!1}readQuery(e,t=!!e.optimistic){return this.read({...e,rootId:e.id||"ROOT_QUERY",optimistic:t})}fragmentWatches=new eM(!0);watchFragment(e){let t,{fragment:r,fragmentName:i,from:n}=e,s=this.getFragmentDoc(r,i),o=(Array.isArray(n)?n:[n]).map(e=>{let t=null==e?e:this.toCacheId(e);return t});if(!Array.isArray(n)){let t=this.watchSingleFragment(o[0],s,e);return null===n?t:rY(t,Symbol.for("apollo.transform.individualResult"),e=>({...e,data:e.data??{}}))}function a(e){let r=e.reduce((e,t,r)=>(e.data.push(t.data),e.complete&&=t.complete,e.dataState=e.complete?"complete":"partial",t.missing&&(e.missing||={},e.missing[r]=t.missing),e),{data:[],dataState:"complete",complete:!0});return tN(t,r)||(t=r),t}if(0===o.length)return r0;let l=!1,u=o.map(t=>this.watchSingleFragment(t,s,e));return Object.assign((0===u.length?en:new er(e=>{let t,{length:r}=u,i=Array(r),n=new Map;u.forEach((e,t)=>{n.has(e)||n.set(e,new Set),n.get(e).add(t)});let s=n.size,o=n.size;n.forEach((r,n)=>{let a=!1,l=n.subscribe({next:s=>{r.forEach(e=>i[e]=s),!a&&(a=!0,o--),!o&&((t||=new Set(u.filter(e=>e.dirty))).delete(n),t.size||(e.next(i.slice()),t=void 0))},complete:()=>{--s||e.complete()},error:e.error.bind(e)});e.add(l)})})).pipe(rf(a),rA({subscribe:()=>l=!0,unsubscribe:()=>l=!1}),rD({bufferSize:1,refCount:!0})),{getCurrentResult:()=>l&&t?t:a(u.map(e=>e.getCurrentResult()))})}onAfterBroadcast=e=>e();watchSingleFragment(e,t,r){if(null===e)return rX;let{optimistic:i=!0,variables:n}=r,s=[t,ri({id:e,optimistic:i,variables:n})],o=this.fragmentWatches.lookupArray(s);if(!o.observable){var a,l;let c,h=!1;function u(e){let i=e.result;return c&&rW(t,{data:c.data},{data:i},r.variables)||(c={data:i,dataState:e.complete?"complete":"partial",complete:e.complete},e.missing&&(c.missing=e.missing.missing)),c}let d=new er(r=>{h=!0;let o=this.watch({variables:n,returnPartialData:!0,id:e,query:t,optimistic:i,immediate:!0,callback:e=>{d.dirty=!0,this.onAfterBroadcast(()=>{r.next(u(e)),d.dirty=!1})}});return()=>{h=!1,o(),this.fragmentWatches.removeArray(s)}}).pipe((void 0===l&&(l=et),a=null!=a?a:rd,ru(function(e,t){var r,i=!0;e.subscribe(rc(t,function(e){var n=l(e);(i||!a(r,n))&&(i=!1,r=n,t.next(e))}))})),rI({connector:()=>new rv(1),resetOnRefCountZero:()=>{var e;return void 0===e&&(e=rj),new er(function(t){var r=0;r<0&&(r=0);var i=0;return e.schedule(function(){t.closed||(t.next(i++),t.complete())},r)})}}));o.observable=Object.assign(d,{dirty:!1,getCurrentResult:()=>h&&c?c:u(this.diff({id:e,query:t,returnPartialData:!0,optimistic:i,variables:n}))})}return o.observable}getFragmentDoc=re(rG,{max:eC["cache.fragmentQueryDocuments"]||1e3,cache:eB,makeCacheKey:function(...e){return t6.bind(null,...e)}(this)});readFragment(e,t=!!e.optimistic){let r=void 0!==e.from?this.toCacheId(e.from):e.id;return this.read({...e,query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:r,optimistic:t})}writeQuery({id:e,data:t,...r}){return this.write(Object.assign(r,{dataId:e||"ROOT_QUERY",result:t}))}writeFragment({data:e,fragment:t,fragmentName:r,...i}){let n=void 0!==i.from?this.toCacheId(i.from):i.id;return this.write(Object.assign(i,{query:this.getFragmentDoc(t,r),dataId:n,result:e}))}updateQuery(e,t){return this.batch({update(r){let i=r.readQuery(e),n=t(i);return null==n?i:(r.writeQuery({...e,data:n}),n)}})}updateFragment(e,t){return this.batch({update(r){let i=r.readFragment(e),n=t(i);return null==n?i:(r.writeFragment({...e,data:n}),n)}})}toCacheId(e){return"string"==typeof e?e:this.identify(e)}}let rH=Object.freeze({data:null,dataState:"complete",complete:!0}),rX=Object.assign(new er(e=>{e.next(rH)}),{dirty:!1,getCurrentResult:()=>rH}),rZ=Object.freeze({data:[],dataState:"complete",complete:!0}),r0=Object.assign(new er(e=>{e.next(rZ)}),{getCurrentResult:()=>rZ}),{hasOwnProperty:r1}=Object.prototype,r2=function(e,t,r){return this.merge(e[r],t[r])},r3=e=>isNaN(+e)?{}:[];class r4{options;reconciler;constructor(e={}){this.options=e,this.reconciler=e.reconciler||r2}merge(e,t,r={}){let i=r.atPath;if(i?.length){let[n,...s]=i;void 0===e&&(e=r3(n));let o=e[n];void 0===o&&s.length&&(o=r3(s[0]));let a=this.merge(o,t,{...r,atPath:s});return o!==a&&((e=this.shallowCopyForMerge(e))[n]=a),e}return(Array.isArray(e)&&Array.isArray(t)&&"truncate"===this.options.arrayMerge&&e.length>t.length&&(e=e.slice(0,t.length),this.pastCopies.add(e)),e7(t)&&e7(e))?(Object.keys(t).forEach(r=>{if(r1.call(e,r)){let i=e[r];if(t[r]!==i){let n=this.reconciler(e,t,r);n!==i&&((e=this.shallowCopyForMerge(e))[r]=n)}}else(e=this.shallowCopyForMerge(e))[r]=t[r]}),e):t}isObject=e7;pastCopies=new Set;shallowCopyForMerge(e){return e7(e)&&!this.pastCopies.has(e)&&(e=Array.isArray(e)?e.slice(0):{__proto__:Object.getPrototypeOf(e),...e},this.pastCopies.add(e)),e}}function r9(e){return{__ref:String(e)}}let r8=Array.isArray,{hasOwnProperty:r5}=Object.prototype;function r6({__typename:e,id:t,_id:r},i){if("string"==typeof e&&(i&&(i.keyObject=null!=t?{id:t}:null!=r?{_id:r}:void 0),null==t&&null!=r&&(t=r),null!=t))return`${e}:${"number"==typeof t||"string"==typeof t?t:JSON.stringify(t)}`}let r7={dataIdFromObject:r6,resultCaching:!0},ie=/^[_a-z][_0-9a-z]*/i;function it(e){let t=e.match(ie);return t?t[0]:e}function ir(e){return e7(e)&&!rl(e)&&!r8(e)}function ii(e,t){let r=rL(rq(e));return{fragmentMap:r,lookupFragment(e){let i=r[e];return!i&&t&&(i=t.lookup(e)),i||null}}}let is={},io=()=>is,ia={};class il{policies;group;data={};constructor(e,t){this.policies=e,this.group=t}toObject(){return{...this.data}}has(e){return void 0!==this.lookup(e,!0)}get(e,t){if(this.group.depend(e,t),r5.call(this.data,e)){let r=this.data[e];if(r&&r5.call(r,t))return r[t]}return"__typename"===t&&r5.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof id?this.parent.get(e,t):void 0}lookup(e,t){return(t&&this.group.depend(e,"__exists"),r5.call(this.data,e))?this.data[e]:this instanceof id?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?{}:void 0}merge(e,t){let r;rl(e)&&(e=e.__ref),rl(t)&&(t=t.__ref);let i="string"==typeof e?this.lookup(r=e):e,n="string"==typeof t?this.lookup(r=t):t;if(!n)return;eS("string"==typeof r,99);let s=new r4({reconciler:iy}).merge(i,n);if(this.data[r]=s,s!==i&&(delete this.refs[r],this.group.caching)){let e={};i||(e.__exists=1),Object.keys(n).forEach(t=>{if(!i||i[t]!==s[t]){e[t]=1;let r=it(t);r===t||this.policies.hasKeyArgs(s.__typename,r)||(e[r]=1),void 0!==s[t]||this instanceof id||delete s[t]}}),e.__typename&&!(i&&i.__typename)&&this.policies.rootTypenamesById[r]===s.__typename&&delete e.__typename,Object.keys(e).forEach(e=>this.group.dirty(r,e))}}modify(e,t,r){let i=this.lookup(e);if(i){let n={},s=!1,o=!0,a={DELETE:is,INVALIDATE:ia,isReference:rl,toReference:this.toReference,canRead:this.canRead,readField:(t,r)=>this.policies.readField("string"==typeof t?{fieldName:t,from:r||r9(e)}:t,{store:this})};if(Object.keys(i).forEach(l=>{let u=it(l),c=i[l];if(void 0===c)return;let h="function"==typeof t?t:t[l]||(r?void 0:t[u]);if(h){let t=h===io?is:h(c,{...a,fieldName:u,storeFieldName:l,storage:this.getStorage(e,l)});if(t===ia)this.group.dirty(e,l);else if(t===is&&(t=void 0),t!==c&&(n[l]=t,s=!0,c=t,0)){let e=e=>{if(void 0===this.lookup(e.__ref))return!0};if(rl(t))e(t);else if(Array.isArray(t)){let r,i=!1;for(let n of t){if(rl(n)){if(i=!0,e(n))break}else if("object"==typeof n&&n){let[e]=this.policies.identify(n);e&&(r=n)}if(i&&void 0!==r)break}}}}void 0!==c&&(o=!1)}),s)return this.merge(e,n),o&&(this instanceof id?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1}delete(e,t,r){let i=this.lookup(e);if(i){let n=this.getFieldValue(i,"__typename"),s=t&&r?this.policies.getStoreFieldName({typename:n,fieldName:t,args:r}):t;return this.modify(e,s?{[s]:io}:io,!!r)}return!1}evict(e,t){let r=!1;return e.id&&(r5.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof id&&this!==t&&(r=this.parent.evict(e,t)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r}clear(){this.replace(null)}extract(){let e=this.toObject(),t=[];return this.getRootIdSet().forEach(e=>{r5.call(this.policies.rootTypenamesById,e)||t.push(e)}),t.length&&(e.__META={extraRootIds:t.sort()}),e}replace(e){if(Object.keys(this.data).forEach(t=>{e&&r5.call(e,t)||this.delete(t)}),e){let{__META:t,...r}=e;Object.keys(r).forEach(e=>{this.merge(e,r[e])}),t&&t.extraRootIds.forEach(this.retain,this)}}rootIds={};retain(e){return this.rootIds[e]=(this.rootIds[e]||0)+1}release(e){if(this.rootIds[e]>0){let t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0}getRootIdSet(e=new Set){return Object.keys(this.rootIds).forEach(e.add,e),this instanceof id?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e}gc(){let e=this.getRootIdSet(),t=this.toObject();e.forEach(r=>{r5.call(t,r)&&(Object.keys(this.findChildRefIds(r)).forEach(e.add,e),delete t[r])});let r=Object.keys(t);if(r.length){let e=this;for(;e instanceof id;)e=e.parent;r.forEach(t=>e.delete(t))}return r}refs={};findChildRefIds(e){if(!r5.call(this.refs,e)){let t=this.refs[e]={},r=this.data[e];if(!r)return t;let i=new Set([r]);i.forEach(e=>{rl(e)&&(t[e.__ref]=!0),e7(e)&&Object.keys(e).forEach(t=>{let r=e[t];e7(r)&&i.add(r)})})}return this.refs[e]}makeCacheKey(){return this.group.keyMaker.lookupArray(arguments)}getFieldValue=(e,t)=>rl(e)?this.get(e.__ref,t):e&&e[t];canRead=e=>rl(e)?this.has(e.__ref):"object"==typeof e;toReference=(e,t)=>{if("string"==typeof e)return r9(e);if(rl(e))return e;let[r]=this.policies.identify(e);if(r){let i=r9(r);return t&&this.merge(r,e),i}};get supportsResultCaching(){return this.group.caching}}class iu{caching;parent;d=null;keyMaker;constructor(e,t=null){this.caching=e,this.parent=t,this.resetCaching()}resetCaching(){this.d=this.caching?t5():null,this.keyMaker=new eM}depend(e,t){if(this.d){this.d(t+"#"+e);let r=it(t);r!==t&&this.d(r+"#"+e),this.parent&&this.parent.depend(e,t)}}dirty(e,t){this.d&&this.d.dirty(t+"#"+e,"__exists"===t?"forget":"setDirty")}}function ic(e,t){im(e)&&e.group.depend(t,"__exists")}class ih extends il{constructor({policies:e,resultCaching:t=!0,seed:r}){super(e,new iu(t)),r&&this.replace(r)}stump=new ip(this);addLayer(e,t){return this.stump.addLayer(e,t)}removeLayer(){return this}storageTrie=new eM;getStorage(){return this.storageTrie.lookupArray(arguments)}}il.Root=ih;class id extends il{id;parent;replay;group;constructor(e,t,r,i){super(t.policies,i),this.id=e,this.parent=t,this.replay=r,this.group=i,r(this)}addLayer(e,t){return new id(e,this,t,this.group)}removeLayer(e){let t=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach(e=>{let r=this.data[e],i=t.lookup(e);i?r?r!==i&&Object.keys(r).forEach(t=>{tN(r[t],i[t])||this.group.dirty(e,t)}):(this.group.dirty(e,"__exists"),Object.keys(i).forEach(t=>{this.group.dirty(e,t)})):this.delete(e)}),t):t===this.parent?this:t.addLayer(this.id,this.replay)}toObject(){return{...this.parent.toObject(),...this.data}}findChildRefIds(e){let t=this.parent.findChildRefIds(e);return r5.call(this.data,e)?{...t,...super.findChildRefIds(e)}:t}getStorage(...e){let t=this.parent;for(;t.parent;)t=t.parent;return t.getStorage(...e)}}class ip extends id{constructor(e){super("EntityStore.Stump",e,()=>{},new iu(e.group.caching,e.group))}removeLayer(){return this}merge(e,t){return this.parent.merge(e,t)}}function iy(e,t,r){let i=e[r],n=t[r];return tN(i,n)?i:n}function im(e){return!!(e&&e.supportsResultCaching)}let ib=new tq,iv=Symbol.for("apollo.result.extensions"),ig=Symbol.for("apollo.result.streamInfo"),iw=Symbol.for("apollo.observableQuery.variablesUnknown");function iE(e,t,r,i){if(r.kind===f.INT||r.kind===f.FLOAT)e[t.value]=Number(r.value);else if(r.kind===f.BOOLEAN||r.kind===f.STRING)e[t.value]=r.value;else if(r.kind===f.OBJECT){let n={};r.fields.map(e=>iE(n,e.name,e.value,i)),e[t.value]=n}else if(r.kind===f.VARIABLE){let n=(i||{})[r.name.value];e[t.value]=n}else if(r.kind===f.LIST)e[t.value]=r.values.map(e=>{let r={};return iE(r,t,e,i),r[t.value]});else if(r.kind===f.ENUM)e[t.value]=r.value;else if(r.kind===f.NULL)e[t.value]=null;else throw eT(19,t.value,r.kind)}function ik(e,t){if(e.arguments&&e.arguments.length){let r={};return e.arguments.forEach(({name:e,value:i})=>iE(r,e,i,t)),r}return null}e.s(["extensionsSymbol",0,iv,"streamInfoSymbol",0,ig,"variablesUnknownSymbol",0,iw],27692);let iS=["connection","include","skip","client","rest","export","nonreactive","stream"],iO=ri,iT=Object.assign(function(e,t,r){if(t&&r&&r.connection&&r.connection.key){if(r.connection.filter&&r.connection.filter.length>0){let e=r.connection.filter?r.connection.filter:[];e.sort();let i={};e.forEach(e=>{i[e]=t[e]});let n=iO(i);if("{}"!==n)return`${r.connection.key}(${n})`}return r.connection.key}let i=e;if(t){let e=iO(t);"{}"!==e&&(i+=`(${e})`)}return r&&Object.keys(r).forEach(e=>{-1===iS.indexOf(e)&&(r[e]&&Object.keys(r[e]).length?i+=`@${e}(${iO(r[e])})`:i+=`@${e}`)}),i},{setStringify(e){let t=iO;return iO=e,t}});function ix(e){return Array.isArray(e)&&e.length>0}let i_={};function iN(e){let t=JSON.stringify(e);return i_[t]||(i_[t]={})}function iI(e){let t=iN(e);return t.keyFieldsFn||(t.keyFieldsFn=(t,r)=>{let i=(e,t)=>r.readField(t,e),n=r.keyObject=iD(e,e=>{let n=iR(r.storeObject,e,i);return void 0===n&&t!==r.storeObject&&r5.call(t,e[0])&&(n=iR(t,e,iA)),eS(void 0!==n,102,e.join("."),t),n});return`${r.typename}:${JSON.stringify(n)}`})}function iC(e){let t=iN(e);return t.keyArgsFn||(t.keyArgsFn=(t,{field:r,variables:i,fieldName:n})=>{let s=JSON.stringify(iD(e,e=>{let n=e[0],s=n.charAt(0);if("@"===s){if(r&&ix(r.directives)){let t=n.slice(1),s=r.directives.find(e=>e.name.value===t),o=s&&ik(s,i);return o&&iR(o,e.slice(1))}return}if("$"===s){let t=n.slice(1);if(i&&r5.call(i,t)){let r=e.slice(0);return r[0]=t,iR(i,r)}return}if(t)return iR(t,e)}));return(t||"{}"!==s)&&(n+=":"+s),n})}function iD(e,t){let r=new r4;return(function e(t){let r=iN(t);if(!r.paths){let i=r.paths=[],n=[];t.forEach((r,s)=>{r8(r)?(e(r).forEach(e=>i.push(n.concat(e))),n.length=0):(n.push(r),r8(t[s+1])||(i.push(n.slice(0)),n.length=0))})}return r.paths})(e).reduce((e,i)=>{let n=t(i);if(void 0!==n){for(let e=i.length-1;e>=0;--e)n={[i[e]]:n};e=r.merge(e,n)}return e},{})}function iA(e,t){return e[t]}function iR(e,t,r){return r=r||iA,function e(t){return e7(t)?r8(t)?t.map(e):iD(Object.keys(t).sort(),e=>iR(t,e)):t}(t.reduce(function e(t,i){return r8(t)?t.map(t=>e(t,i)):t&&r(t,i)},e))}let iF=new tq,iP=new WeakMap;function iM(e){let t=iP.get(e);return t||iP.set(e,t={vars:new Set,dep:t5()}),t}function ij(e){iM(e).vars.forEach(t=>t.forgetCache(e))}function iL(e){let t=new Set,r=new Set,i=function(s){if(arguments.length>0){if(e!==s){e=s,t.forEach(e=>{var t;iM(e).dep.dirty(i),(t=e).broadcastWatches&&t.broadcastWatches()});let n=Array.from(r);r.clear(),n.forEach(t=>t(e))}}else{let e=iF.getValue();e&&(n(e),iM(e).dep(i))}return e};i.onNextChange=e=>(r.add(e),()=>{r.delete(e)});let n=i.attachCache=e=>(t.add(e),iM(e).vars.add(i),i);return i.forgetCache=e=>t.delete(e),i}function iq(e){return void 0!==e.args?e.args:e.field?ik(e.field,e.variables):null}let iV=()=>void 0,iQ=(e,t)=>t.fieldName,iU=(e,t,{mergeObjects:r})=>r(e,t),iB=(e,t)=>t,iz=(e,t,{streamFieldInfo:r,existingData:i})=>{if(!e&&!i)return t;let n=[],s=e??i,o=r?.isLastChunk?t.length:Math.max(s.length,t.length);for(let e=0;e<o;e++)n[e]=void 0===t[e]?s[e]:t[e];return n};class iW{config;typePolicies={};toBeAdded={};supertypeMap=new Map;fuzzySubtypes=new Map;cache;rootIdsByTypename={};rootTypenamesById={};usingPossibleTypes=!1;constructor(e){this.config=e,this.config={dataIdFromObject:r6,...e},this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}identify(e,t){let r,i=this,n=t&&(t.typename||t.storeObject?.__typename)||e.__typename;if(n===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];let s=t&&t.storeObject||e,o={...t,typename:n,storeObject:s,readField:t&&t.readField||((...e)=>{let t=iK(e,s);return i.readField(t,{store:i.cache.data,variables:t.variables})})},a=n&&this.getTypePolicy(n),l=a&&a.keyFn||this.config.dataIdFromObject;return ib.withValue(!0,()=>{for(;l;){let t=l({...e,...s},o);if(r8(t))l=iI(t);else{r=t;break}}}),r=r?String(r):void 0,o.keyObject?[r,o.keyObject]:[r]}addTypePolicies(e){Object.keys(e).forEach(t=>{let{queryType:r,mutationType:i,subscriptionType:n,...s}=e[t];r&&this.setRootTypename("Query",t),i&&this.setRootTypename("Mutation",t),n&&this.setRootTypename("Subscription",t),r5.call(this.toBeAdded,t)?this.toBeAdded[t].push(s):this.toBeAdded[t]=[s]})}updateTypePolicy(e,t,r){let i=this.getTypePolicy(e),{keyFields:n,fields:s}=t;function o(e,t){e.merge="function"==typeof t?t:!0===t?iU:!1===t?iB:e.merge}o(i,t.merge),i.keyFn=!1===n?iV:r8(n)?iI(n):"function"==typeof n?n:i.keyFn,s&&Object.keys(s).forEach(t=>{let i=r[t];i&&i?.typename===e||(i=r[t]={typename:e});let n=s[t];if("function"==typeof n)i.read=n;else{let{keyArgs:e,read:t,merge:r}=n;i.keyFn=!1===e?iQ:r8(e)?iC(e):"function"==typeof e?e:i.keyFn,"function"==typeof t&&(i.read=t),o(i,r)}i.read&&i.merge&&(i.keyFn=i.keyFn||iQ)})}setRootTypename(e,t=e){let r="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[r];t!==i&&(eS(!i||i===e,103,e),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[t]=r,this.rootTypenamesById[r]=t)}addPossibleTypes(e){this.usingPossibleTypes=!0,Object.keys(e).forEach(t=>{this.getSupertypeSet(t,!0),e[t].forEach(e=>{this.getSupertypeSet(e,!0).add(t);let r=e.match(ie);r&&r[0]===e||this.fuzzySubtypes.set(e,new RegExp(e))})})}getTypePolicy(e){if(!r5.call(this.typePolicies,e)){let t=this.typePolicies[e]={};t.fields={};let r=this.supertypeMap.get(e);!r&&this.fuzzySubtypes.size&&(r=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach((t,i)=>{if(t.test(e)){let e=this.supertypeMap.get(i);e&&e.forEach(e=>r.add(e))}})),r&&r.size&&r.forEach(e=>{let{fields:r,...i}=this.getTypePolicy(e);Object.assign(t,i),Object.assign(t.fields,r)})}let t=this.toBeAdded[e];return t&&t.length&&t.splice(0).forEach(t=>{this.updateTypePolicy(e,t,this.typePolicies[e].fields)}),this.typePolicies[e]}getFieldPolicy(e,t){if(e)return this.getTypePolicy(e).fields[t]}getSupertypeSet(e,t){let r=this.supertypeMap.get(e);return!r&&t&&this.supertypeMap.set(e,r=new Set),r}fragmentMatches(e,t,r,i){if(!e.typeCondition)return!0;if(!t)return!1;let n=e.typeCondition.name.value;if(t===n)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(n)){let s=this.getSupertypeSet(t,!0),o=[s],a=e=>{let t=this.getSupertypeSet(e,!1);t&&t.size&&0>o.indexOf(t)&&o.push(t)},l=!!(r&&this.fuzzySubtypes.size),u=!1;for(let c=0;c<o.length;++c){let h=o[c];if(h.has(n))return s.has(n)||s.add(n),!0;h.forEach(a),l&&c===o.length-1&&function e(t,r,i){return!!e7(r)&&(r8(r)?r.every(r=>e(t,r,i)):t.selections.every(t=>{if(rU(t)&&rz(t,i)){let n=rB(t);return r5.call(r,n)&&(!t.selectionSet||e(t.selectionSet,r[n],i))}return!0}))}(e.selectionSet,r,i)&&(l=!1,u=!0,this.fuzzySubtypes.forEach((e,r)=>{let i=t.match(e);i&&i[0]===t&&a(r)}))}}return!1}hasKeyArgs(e,t){let r=this.getFieldPolicy(e,t);return!!(r&&r.keyFn)}getStoreFieldName(e){var t,r;let i,n,s,{typename:o,fieldName:a}=e,l=this.getFieldPolicy(o,a),u=l&&l.keyFn;if(u&&o){let t={typename:o,fieldName:a,field:e.field||null,variables:e.variables},r=iq(e);for(;u;){let e=u(r,t);if(r8(e))u=iC(e);else{i=e||a;break}}}return(void 0===i&&(i=e.field?(t=e.field,r=e.variables,n=null,t.directives&&(n={},t.directives.forEach(e=>{n[e.name.value]={},e.arguments&&e.arguments.forEach(({name:t,value:i})=>iE(n[e.name.value],t,i,r))})),s=null,t.arguments&&t.arguments.length&&(s={},t.arguments.forEach(({name:e,value:t})=>iE(s,e,t,r))),iT(t.name.value,s,n)):iT(a,iq(e))),!1===i)?a:a===it(i)?i:a+":"+i}readField(e,t){let r=e.from;if(!r||!(e.field||e.fieldName))return;if(void 0===e.typename){let i=t.store.getFieldValue(r,"__typename");i&&(e.typename=i)}let i=this.getStoreFieldName(e),n=it(i),s=t.store.getFieldValue(r,i),o=this.getFieldPolicy(e.typename,n),a=o&&o.read;if(a){let n=i$(this,r,e,t,t.store.getStorage(rl(r)?r.__ref:r,i));return iF.withValue(this.cache,a,[s,n])}return s}getReadFunction(e,t){let r=this.getFieldPolicy(e,t);return r&&r.read}getMergeFunction(e,t,r){let i=this.getFieldPolicy(e,t),n=i&&i.merge;return!n&&r&&(n=(i=this.getTypePolicy(r))&&i.merge),n}runMergeFunction(e,t,{field:r,typename:i,merge:n,path:s},o,a){let l=e;if(n===iU)return iG(o.store)(e,t);if(n===iB)return t;o.overwrite&&(e=void 0);let u=o.extensions?.[ig]?.deref()?.peekArray(s);if(u){let{current:e,previous:r}=u;if(r&&tN(r.incoming,t)&&tN(r.streamFieldInfo,e))return r.result}let c=n(e,t,function(e,t,r,i,n,s){let o={...i$(e,t,r,i,n),extensions:i.extensions,existingData:s},a=i.extensions;if(a&&ig in a){let{[ig]:e,...t}=a,i=e?.deref()?.peekArray(r.path);i&&(o.streamFieldInfo=i.current),o.extensions=0===Object.keys(t).length?void 0:t}return o}(this,void 0,{typename:i,fieldName:r.name.value,field:r,variables:o.variables,path:s},o,a||{},l));return u&&(u.previous={incoming:t,streamFieldInfo:u.current,result:c}),c}}function i$(e,t,r,i,n){let s=e.getStoreFieldName(r),o=it(s),a=r.variables||i.variables,{toReference:l,canRead:u}=i.store;return{args:iq(r),field:r.field||null,fieldName:o,storeFieldName:s,variables:a,isReference:rl,toReference:l,storage:n,cache:e.cache,canRead:u,readField:(...r)=>e.readField(iK(r,t,a),i),mergeObjects:iG(i.store)}}function iK(e,t,r){let i,{0:n,1:s,length:o}=e;return"string"==typeof n?i={fieldName:n,from:o>1?s:t}:(i={...n},r5.call(i,"from")||(i.from=t)),void 0===i.variables&&(i.variables=r),i}function iG(e){return function(t,r){if(r8(t)||r8(r))throw eT(106);if(e7(t)&&e7(r)){let i=e.getFieldValue(t,"__typename"),n=e.getFieldValue(r,"__typename");if(i&&n&&i!==n)return r;if(rl(t)&&ir(r))return e.merge(t.__ref,r),t;if(ir(t)&&rl(r))return e.merge(t,r.__ref),r;if(ir(t)&&ir(r))return{...t,...r}}return r}}function iY(e){let t={},r=e&&e.variableDefinitions;return r&&r.length&&r.forEach(e=>{e.defaultValue&&iE(t,e.variable.name,e.defaultValue)}),t}class iJ extends Error{message;path;query;variables;constructor(e,t,r,i){if(super(e),this.message=e,this.path=t,this.query=r,this.variables=i,this.name="MissingFieldError",Array.isArray(this.path)){this.missing=this.message;for(let e=this.path.length-1;e>=0;--e)this.missing={[this.path[e]]:this.missing}}else this.missing=this.path;this.__proto__=iJ.prototype}missing}function iH(e){return[e.selectionSet,e.objectOrReference,e.context]}class iX{executeSelectionSet;executeSubSelectedArray;config;knownResults=new WeakMap;constructor(e){this.config=e,this.executeSelectionSet=re(e=>{let t=iH(e),r=this.executeSelectionSet.peek(...t);return r||(ic(e.context.store,e.enclosingRef.__ref),this.execSelectionSetImpl(e))},{max:eC["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:iH,makeCacheKey(e,t,r){if(im(r.store))return r.store.makeCacheKey(e,rl(t)?t.__ref:t,r.varString)}}),this.executeSubSelectedArray=re(e=>(ic(e.context.store,e.enclosingRef.__ref),this.execSubSelectedArrayImpl(e)),{max:eC["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey({field:e,array:t,context:r}){if(im(r.store))return r.store.makeCacheKey(e,t,r.varString)}})}diffQueryAgainstStore({store:e,query:t,rootId:r="ROOT_QUERY",variables:i,returnPartialData:n=!0}){let s,o,a=this.config.cache.policies;i={...iY((eS((s=eJ(t))&&"query"===s.operation,13),s)),...i};let l=r9(r),u=this.executeSelectionSet({selectionSet:rQ(t).selectionSet,objectOrReference:l,enclosingRef:l,context:{store:e,query:t,policies:a,variables:i,varString:ri(i),...ii(t,this.config.fragments)}});u.missing&&(o=new iJ(function(e){try{JSON.stringify(e,(e,t)=>{if("string"==typeof t)throw t;return t})}catch(e){return e}}(u.missing),u.missing,t,i));let c=!o,{result:h}=u;return{result:c?h:n?0===Object.keys(h).length?null:h:null,complete:c,missing:o}}isFresh(e,t,r,i){if(im(i.store)&&this.knownResults.get(e)===r){let n=this.executeSelectionSet.peek(r,t,i);if(n&&e===n.result)return!0}return!1}execSelectionSetImpl({selectionSet:e,objectOrReference:t,enclosingRef:r,context:i}){let n;if(rl(t)&&!i.policies.rootTypenamesById[t.__ref]&&!i.store.has(t.__ref))return{result:{},missing:`Dangling reference to missing ${t.__ref} object`};let{variables:s,policies:o,store:a}=i,l=a.getFieldValue(t,"__typename"),u=[],c=new r4;function h(e,t){return e.missing&&(n=c.merge(n,{[t]:e.missing})),e.result}"string"!=typeof l||o.rootIdsByTypename[l]||u.push({__typename:l});let d=new Set(e.selections);d.forEach(e=>{if(rz(e,s))if(rU(e)){let s=o.readField({fieldName:e.name.value,field:e,variables:i.variables,from:t},i),a=rB(e);void 0===s?rr.added(e)||(n=c.merge(n,{[a]:`Can't find field '${e.name.value}' on ${rl(t)?t.__ref+" object":"object "+JSON.stringify(t,null,2)}`})):r8(s)?s.length>0&&(s=h(this.executeSubSelectedArray({field:e,array:s,enclosingRef:r,context:i}),a)):e.selectionSet&&null!=s&&(s=h(this.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:s,enclosingRef:rl(s)?s:r,context:i}),a)),void 0!==s&&u.push({[a]:s})}else{let t=rV(e,i.lookupFragment);if(!t&&e.kind===f.FRAGMENT_SPREAD)throw eT(107,e.name.value);t&&o.fragmentMatches(t,l)&&t.selectionSet.selections.forEach(d.add,d)}});let p={result:function(e){let t=e[0]||{},r=e.length;if(r>1){let i=new r4;for(let n=1;n<r;++n)t=i.merge(t,e[n])}return t}(u),missing:n};return p.result&&this.knownResults.set(p.result,e),p}execSubSelectedArrayImpl({field:e,array:t,enclosingRef:r,context:i}){let n,s=new r4;function o(e,t){return e.missing&&(n=s.merge(n,{[t]:e.missing})),e.result}return e.selectionSet&&(t=t.filter(e=>void 0===e||i.store.canRead(e))),{result:t=t.map((t,n)=>null===t?null:r8(t)?o(this.executeSubSelectedArray({field:e,array:t,enclosingRef:r,context:i}),n):e.selectionSet?o(this.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:t,enclosingRef:rl(t)?t:r,context:i}),n):t),missing:n}}}let{toString:iZ}=Object.prototype;function i0(e,t,r){let i=new Set(e),n=i.size;return ef(t,{Directive(e){if(i.delete(e.name.value)&&(!r||!i.size))return ed}}),r?!i.size:i.size<n}function i1(e,t,r){let i=`${t}${r}`,n=e.flavors.get(i);return n||e.flavors.set(i,n=e.clientOnly===t&&e.deferred===r?e:{...e,clientOnly:t,deferred:r}),n}class i2{cache;reader;fragments;constructor(e,t,r){this.cache=e,this.reader=t,this.fragments=r}writeToStore(e,{query:t,result:r,dataId:i,variables:n,overwrite:s,extensions:o}){let a=eJ(t),l=new r4,u={store:e,written:{},merge:(e,t)=>l.merge(e,t),variables:n={...iY(a),...n},varString:ri(n),...ii(t,this.fragments),overwrite:!!s,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map,extensions:o},c=this.processSelectionSet({result:r||{},dataId:i,selectionSet:a.selectionSet,mergeTree:{map:new Map},context:u,path:[]});if(!rl(c))throw eT(109,r);return u.incomingById.forEach(({storeObject:t,mergeTree:r,fieldNodeSet:i},n)=>{let s=r9(n);if(r&&r.map.size){let e=this.applyMerges(r,s,t,u);if(rl(e))return;t=e}e.merge(n,t)}),e.retain(c.__ref),c}processSelectionSet({dataId:e,result:t,selectionSet:r,context:i,mergeTree:n,path:s}){let{policies:o}=this.cache,a={},l=e&&o.rootTypenamesById[e]||i5(t,r,i.fragmentMap)||e&&i.store.get(e,"__typename");"string"==typeof l&&(a.__typename=l);let u=(...e)=>{let t=iK(e,a,i.variables);if(rl(t.from)){let e=i.incomingById.get(t.from.__ref);if(e){let r=o.readField({...t,from:e.storeObject},i);if(void 0!==r)return r}}return o.readField(t,i)},c=new Set;this.flattenFields(r,t,i,l).forEach((e,r)=>{let i=t[rB(r)],h=[...s,r.name.value];if(c.add(r),void 0!==i){let t,s=o.getStoreFieldName({typename:l,fieldName:r.name.value,field:r,variables:e.variables}),c=i4(n,s),d=this.processFieldValue(i,r,r.selectionSet?i1(e,!1,!1):e,c,h);r.selectionSet&&(rl(d)||ir(d))&&(t=u("__typename",d));let f=o.getMergeFunction(l,r.name.value,t);f?c.info={field:r,typename:l,merge:f,path:h}:i0(["stream"],r)&&Array.isArray(d)&&e.extensions?.[ig]?c.info={field:r,typename:l,merge:iz,path:h}:i8(n,s),a=e.merge(a,{[s]:d})}});try{let[n,s]=o.identify(t,{typename:l,selectionSet:r,fragmentMap:i.fragmentMap,storeObject:a,readField:u});e=e||n,s&&(a=i.merge(a,s))}catch(t){if(!e)throw t}if("string"==typeof e){let s=r9(e),o=i.written[e]||(i.written[e]=[]);if(o.indexOf(r)>=0||(o.push(r),this.reader&&this.reader.isFresh(t,s,r,i)))return s;let l=i.incomingById.get(e);return l?(l.storeObject=i.merge(l.storeObject,a),l.mergeTree=function e(t,r){if(t===r||!r||i9(r))return t;if(!t||i9(t))return r;let i=t.info&&r.info?{...t.info,...r.info}:t.info||r.info,n=t.map.size&&r.map.size,s={info:i,map:n?new Map:t.map.size?t.map:r.map};if(n){let i=new Set(r.map.keys());t.map.forEach((t,n)=>{s.map.set(n,e(t,r.map.get(n))),i.delete(n)}),i.forEach(i=>{s.map.set(i,e(r.map.get(i),t.map.get(i)))})}return s}(l.mergeTree,n),c.forEach(e=>l.fieldNodeSet.add(e))):i.incomingById.set(e,{storeObject:a,mergeTree:i9(n)?void 0:n,fieldNodeSet:c}),s}return a}processFieldValue(e,t,r,i,n){return t.selectionSet&&null!==e?r8(e)?e.map((e,s)=>{let o=this.processFieldValue(e,t,r,i4(i,s),[...n,s]);return i8(i,s),o}):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:r,mergeTree:i,path:n}):e}flattenFields(e,t,r,i=i5(t,e,r.fragmentMap)){let n=new Map,{policies:s}=this.cache,o=new eM(!1);return!function e(a,l){let u=o.lookup(a,l.clientOnly,l.deferred);u.visited||(u.visited=!0,a.selections.forEach(o=>{if(!rz(o,r.variables))return;let{clientOnly:a,deferred:u}=l;if(!(a&&u)&&ix(o.directives)&&o.directives.forEach(e=>{let t=e.name.value;if("client"===t&&(a=!0),"defer"===t){let t=ik(e,r.variables);t&&!1===t.if||(u=!0)}}),rU(o)){let e=n.get(o);e&&(a=a&&e.clientOnly,u=u&&e.deferred),n.set(o,i1(r,a,u))}else{let n=rV(o,r.lookupFragment);if(!n&&o.kind===f.FRAGMENT_SPREAD)throw eT(111,o.name.value);n&&s.fragmentMatches(n,i,t,r.variables)&&e(n.selectionSet,i1(r,a,u))}}))}(e,r),n}applyMerges(e,t,r,i,n){if(e.map.size&&!rl(r)){let s,o=!r8(r)&&(rl(t)||ir(t))?t:void 0,a=r;o&&!n&&(n=[rl(o)?o.__ref:o]);let l=(e,t)=>r8(e)?"number"==typeof t?e[t]:void 0:i.store.getFieldValue(e,String(t));e.map.forEach((e,t)=>{let r=l(o,t),u=l(a,t);if(void 0===u)return;n&&n.push(t);let c=this.applyMerges(e,r,u,i,n);c!==u&&(s=s||new Map).set(t,c),n&&eS(n.pop()===t)}),s&&(r=r8(a)?a.slice(0):{...a},s.forEach((e,t)=>{r[t]=e}))}return e.info?this.cache.policies.runMergeFunction(t,r,e.info,i,n&&i.store.getStorage(...n)):r}}let i3=[];function i4({map:e},t){return e.has(t)||e.set(t,i3.pop()||{map:new Map}),e.get(t)}function i9(e){return!e||!(e.info||e.map.size)}function i8({map:e},t){let r=e.get(t);r&&i9(r)&&(i3.push(r),e.delete(t))}function i5(e,t,r){let i;for(let r of t.selections)if(rU(r)){if("__typename"===r.name.value)return e[rB(r)]}else i?i.push(r):i=[r];if("string"==typeof e.__typename)return e.__typename;if(i)for(let t of i){let i=i5(e,rV(t,r).selectionSet,r);if("string"==typeof i)return i}}class i6 extends rJ{data;optimisticData;config;watches=new Set;storeReader;storeWriter;addTypenameTransform=new ra(rr);maybeBroadcastWatch;assumeImmutableResults=!0;policies;makeVar=iL;constructor(e={}){super(),this.config=function(e){return eX(r7,e)}(e),this.policies=new iW({cache:this,dataIdFromObject:this.config.dataIdFromObject,possibleTypes:this.config.possibleTypes,typePolicies:this.config.typePolicies}),this.init()}init(){let e=this.data=new il.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()}resetResultCache(){let{fragments:e}=this.config;this.addTypenameTransform.resetCache(),e?.resetCaches(),this.storeWriter=new i2(this,this.storeReader=new iX({cache:this,fragments:e}),e),this.maybeBroadcastWatch=re((e,t)=>this.broadcastWatch(e,t),{max:eC["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:e=>{let t=e.optimistic?this.optimisticData:this.data;if(im(t)){let{optimistic:r,id:i,variables:n}=e;return t.makeCacheKey(e.query,e.callback,ri({optimistic:r,id:i,variables:n}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(e=>e.resetCaching())}restore(e){return this.init(),e&&this.data.replace(e),this}extract(e=!1){return(e?this.optimisticData:this.data).extract()}read(e){let{returnPartialData:t=!1}=e;return this.storeReader.diffQueryAgainstStore({...e,store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:t}).result}write(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}}modify(e){if(r5.call(e,"id")&&!e.id)return!1;let t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields,!1)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}}diff(e){return this.storeReader.diffQueryAgainstStore({...e,store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config})}watch(e){var t;return this.watches.size||(t=this,iM(t).vars.forEach(e=>e.attachCache(t))),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),()=>{this.watches.delete(e)&&!this.watches.size&&ij(this),this.maybeBroadcastWatch.forget(e)}}gc(e){ri.reset(),tb.reset();let t=this.optimisticData.gc();return e&&!this.txCount&&e.resetResultCache&&this.resetResultCache(),t}retain(e,t){return(t?this.optimisticData:this.data).retain(e)}release(e,t){return(t?this.optimisticData:this.data).release(e)}identify(e){if(rl(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(e){}}evict(e){if(!e.id){if(r5.call(e,"id"))return!1;e={...e,id:"ROOT_QUERY"}}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}}reset(e){return this.init(),ri.reset(),e&&e.discardWatches?(this.watches.forEach(e=>this.maybeBroadcastWatch.forget(e)),this.watches.clear(),ij(this)):this.broadcastWatches(),Promise.resolve()}removeOptimistic(e){let t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())}txCount=0;batch(e){let t,{update:r,optimistic:i=!0,removeOptimistic:n,onWatchUpdated:s}=e,o=e=>{let{data:i,optimisticData:n}=this;++this.txCount,e&&(this.data=this.optimisticData=e);try{return t=r(this)}finally{--this.txCount,this.data=i,this.optimisticData=n}},a=new Set;return s&&!this.txCount&&this.broadcastWatches({...e,onWatchUpdated:e=>(a.add(e),!1)}),"string"==typeof i?this.optimisticData=this.optimisticData.addLayer(i,o):!1===i?o(this.data):o(),"string"==typeof n&&(this.optimisticData=this.optimisticData.removeLayer(n)),s&&a.size?(this.broadcastWatches({...e,onWatchUpdated(e,t){let r=s.call(this,e,t);return!1!==r&&a.delete(e),r}}),a.size&&a.forEach(e=>this.maybeBroadcastWatch.dirty(e))):this.broadcastWatches(e),t}performTransaction(e,t){return this.batch({update:e,optimistic:t||null!==t})}transformDocument(e){return this.addTypenameTransform.transformDocument(this.addFragmentsToDocument(e))}fragmentMatches(e,t){return this.policies.fragmentMatches(e,t)}lookupFragment(e){return this.config.fragments?.lookup(e)||null}resolvesClientField(e,t){return!!this.policies.getReadFunction(e,t)}broadcastWatches(e){if(!this.txCount){let t=this.onAfterBroadcast,r=new Set;this.onAfterBroadcast=e=>{r.add(e)};try{this.watches.forEach(t=>this.maybeBroadcastWatch(t,e)),r.forEach(e=>e())}finally{this.onAfterBroadcast=t}}}addFragmentsToDocument(e){let{fragments:t}=this.config;return t?t.transform(e):e}broadcastWatch(e,t){let{lastDiff:r}=e,i=this.diff(e);(!t||(e.optimistic&&"string"==typeof t.optimistic&&(i.fromOptimisticTransaction=!0),!t.onWatchUpdated||!1!==t.onWatchUpdated.call(this,e,i,r)))&&(r&&tN(r.result,i.result)||e.callback(e.lastDiff=i,r))}}let i7=/\r\n|[\n\r]/g;function ne(e,t){let r=0,i=1;for(let n of e.body.matchAll(i7)){if("number"==typeof n.index||function(e,t){if(!e)throw Error("Unexpected invariant triggered.")}(!1),n.index>=t)break;r=n.index+n[0].length,i+=1}return{line:i,column:t+1-r}}function nt(e,t){let r=e.locationOffset.column-1,i="".padStart(r)+e.body,n=t.line-1,s=e.locationOffset.line-1,o=t.line+s,a=1===t.line?r:0,l=t.column+a,u=`${e.name}:${o}:${l}
`,c=i.split(/\r\n|[\n\r]/g),h=c[n];if(h.length>120){let e=Math.floor(l/80),t=[];for(let e=0;e<h.length;e+=80)t.push(h.slice(e,e+80));return u+nr([[`${o} |`,t[0]],...t.slice(1,e+1).map(e=>["|",e]),["|","^".padStart(l%80)],["|",t[e+1]]])}return u+nr([[`${o-1} |`,c[n-1]],[`${o} |`,h],["|","^".padStart(l)],[`${o+1} |`,c[n+1]]])}function nr(e){let t=e.filter(([e,t])=>void 0!==t),r=Math.max(...t.map(([e])=>e.length));return t.map(([e,t])=>e.padStart(r)+(t?" "+t:"")).join("\n")}class ni extends Error{constructor(e,...t){var r,i,n;const{nodes:s,source:o,positions:a,path:l,originalError:u,extensions:c}=function(e){let t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!=l?l:void 0,this.originalError=null!=u?u:void 0,this.nodes=nn(Array.isArray(s)?s:s?[s]:void 0);const h=nn(null==(r=this.nodes)?void 0:r.map(e=>e.loc).filter(e=>null!=e));this.source=null!=o?o:null==h||null==(i=h[0])?void 0:i.source,this.positions=null!=a?a:null==h?void 0:h.map(e=>e.start),this.locations=a&&o?a.map(e=>ne(o,e)):null==h?void 0:h.map(e=>ne(e.source,e.start));const d=!function(e){return"object"==typeof e&&null!==e}(null==u?void 0:u.extensions)||null==u?void 0:u.extensions;this.extensions=null!=(n=null!=c?c:d)?n:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=u&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,ni):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(let r of this.nodes){var t;r.loc&&(e+="\n\n"+nt((t=r.loc).source,ne(t.source,t.start)))}else if(this.source&&this.locations)for(let t of this.locations)e+="\n\n"+nt(this.source,t);return e}toJSON(){let e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function nn(e){return void 0===e||0===e.length?void 0:e}function ns(e,t,r){return new ni(`Syntax Error: ${r}`,{source:e,positions:[t]})}(a=y||(y={})).QUERY="QUERY",a.MUTATION="MUTATION",a.SUBSCRIPTION="SUBSCRIPTION",a.FIELD="FIELD",a.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",a.FRAGMENT_SPREAD="FRAGMENT_SPREAD",a.INLINE_FRAGMENT="INLINE_FRAGMENT",a.VARIABLE_DEFINITION="VARIABLE_DEFINITION",a.SCHEMA="SCHEMA",a.SCALAR="SCALAR",a.OBJECT="OBJECT",a.FIELD_DEFINITION="FIELD_DEFINITION",a.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",a.INTERFACE="INTERFACE",a.UNION="UNION",a.ENUM="ENUM",a.ENUM_VALUE="ENUM_VALUE",a.INPUT_OBJECT="INPUT_OBJECT",a.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",(l=m||(m={})).SOF="<SOF>",l.EOF="<EOF>",l.BANG="!",l.DOLLAR="$",l.AMP="&",l.PAREN_L="(",l.PAREN_R=")",l.DOT=".",l.SPREAD="...",l.COLON=":",l.EQUALS="=",l.AT="@",l.BRACKET_L="[",l.BRACKET_R="]",l.BRACE_L="{",l.PIPE="|",l.BRACE_R="}",l.NAME="Name",l.INT="Int",l.FLOAT="Float",l.STRING="String",l.BLOCK_STRING="BlockString",l.COMMENT="Comment";class no{constructor(e){const t=new el(m.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==m.EOF)do if(e.next)e=e.next;else{let t=function(e,t){let r=e.source.body,i=r.length,n=t;for(;n<i;){let t=r.charCodeAt(n);switch(t){case 65279:case 9:case 32:case 44:++n;continue;case 10:++n,++e.line,e.lineStart=n;continue;case 13:10===r.charCodeAt(n+1)?n+=2:++n,++e.line,e.lineStart=n;continue;case 35:return function(e,t){let r=e.source.body,i=r.length,n=t+1;for(;n<i;){let e=r.charCodeAt(n);if(10===e||13===e)break;if(na(e))++n;else if(nl(r,n))n+=2;else break}return nd(e,m.COMMENT,t,n,r.slice(t+1,n))}(e,n);case 33:return nd(e,m.BANG,n,n+1);case 36:return nd(e,m.DOLLAR,n,n+1);case 38:return nd(e,m.AMP,n,n+1);case 40:return nd(e,m.PAREN_L,n,n+1);case 41:return nd(e,m.PAREN_R,n,n+1);case 46:if(46===r.charCodeAt(n+1)&&46===r.charCodeAt(n+2))return nd(e,m.SPREAD,n,n+3);break;case 58:return nd(e,m.COLON,n,n+1);case 61:return nd(e,m.EQUALS,n,n+1);case 64:return nd(e,m.AT,n,n+1);case 91:return nd(e,m.BRACKET_L,n,n+1);case 93:return nd(e,m.BRACKET_R,n,n+1);case 123:return nd(e,m.BRACE_L,n,n+1);case 124:return nd(e,m.PIPE,n,n+1);case 125:return nd(e,m.BRACE_R,n,n+1);case 34:if(34===r.charCodeAt(n+1)&&34===r.charCodeAt(n+2))return function(e,t){let r=e.source.body,i=r.length,n=e.lineStart,s=t+3,o=s,a="",l=[];for(;s<i;){let i=r.charCodeAt(s);if(34===i&&34===r.charCodeAt(s+1)&&34===r.charCodeAt(s+2)){a+=r.slice(o,s),l.push(a);let i=nd(e,m.BLOCK_STRING,t,s+3,(function(e){var t,r;let i=Number.MAX_SAFE_INTEGER,n=null,s=-1;for(let t=0;t<e.length;++t){let o=e[t],a=function(e){let t=0;for(;t<e.length&&tn(e.charCodeAt(t));)++t;return t}(o);a!==o.length&&(n=null!=(r=n)?r:t,s=t,0!==t&&a<i&&(i=a))}return e.map((e,t)=>0===t?e:e.slice(i)).slice(null!=(t=n)?t:0,s+1)})(l).join("\n"));return e.line+=l.length-1,e.lineStart=n,i}if(92===i&&34===r.charCodeAt(s+1)&&34===r.charCodeAt(s+2)&&34===r.charCodeAt(s+3)){a+=r.slice(o,s),o=s+1,s+=4;continue}if(10===i||13===i){a+=r.slice(o,s),l.push(a),13===i&&10===r.charCodeAt(s+1)?s+=2:++s,a="",o=s,n=s;continue}if(na(i))++s;else if(nl(r,s))s+=2;else throw ns(e.source,s,`Invalid character within String: ${nh(e,s)}.`)}throw ns(e.source,s,"Unterminated string.")}(e,n);return function(e,t){let r=e.source.body,i=r.length,n=t+1,s=n,o="";for(;n<i;){let i=r.charCodeAt(n);if(34===i)return o+=r.slice(s,n),nd(e,m.STRING,t,n+1,o);if(92===i){o+=r.slice(s,n);let t=117===r.charCodeAt(n+1)?123===r.charCodeAt(n+2)?function(e,t){let r=e.source.body,i=0,n=3;for(;n<12;){let e=r.charCodeAt(t+n++);if(125===e){if(n<5||!na(i))break;return{value:String.fromCodePoint(i),size:n}}if((i=i<<4|ny(e))<0)break}throw ns(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+n)}".`)}(e,n):function(e,t){let r=e.source.body,i=np(r,t+2);if(na(i))return{value:String.fromCodePoint(i),size:6};if(nu(i)&&92===r.charCodeAt(t+6)&&117===r.charCodeAt(t+7)){let e=np(r,t+8);if(nc(e))return{value:String.fromCodePoint(i,e),size:12}}throw ns(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+6)}".`)}(e,n):function(e,t){let r=e.source.body;switch(r.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw ns(e.source,t,`Invalid character escape sequence: "${r.slice(t,t+2)}".`)}(e,n);o+=t.value,n+=t.size,s=n;continue}if(10===i||13===i)break;if(na(i))++n;else if(nl(r,n))n+=2;else throw ns(e.source,n,`Invalid character within String: ${nh(e,n)}.`)}throw ns(e.source,n,"Unterminated string.")}(e,n)}if(ts(t)||45===t)return function(e,t,r){let i=e.source.body,n=t,s=r,o=!1;if(45===s&&(s=i.charCodeAt(++n)),48===s){if(ts(s=i.charCodeAt(++n)))throw ns(e.source,n,`Invalid number, unexpected digit after 0: ${nh(e,n)}.`)}else n=nf(e,n,s),s=i.charCodeAt(n);if(46===s&&(o=!0,s=i.charCodeAt(++n),n=nf(e,n,s),s=i.charCodeAt(n)),(69===s||101===s)&&(o=!0,(43===(s=i.charCodeAt(++n))||45===s)&&(s=i.charCodeAt(++n)),n=nf(e,n,s),s=i.charCodeAt(n)),46===s||ta(s))throw ns(e.source,n,`Invalid number, expected digit but got: ${nh(e,n)}.`);return nd(e,o?m.FLOAT:m.INT,t,n,i.slice(t,n))}(e,n,t);if(ta(t))return function(e,t){let r=e.source.body,i=r.length,n=t+1;for(;n<i;){var s;if(to(s=r.charCodeAt(n))||ts(s)||95===s)++n;else break}return nd(e,m.NAME,t,n,r.slice(t,n))}(e,n);throw ns(e.source,n,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":na(t)||nl(r,n)?`Unexpected character: ${nh(e,n)}.`:`Invalid character: ${nh(e,n)}.`)}return nd(e,m.EOF,i,i)}(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===m.COMMENT)return e}}function na(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function nl(e,t){return nu(e.charCodeAt(t))&&nc(e.charCodeAt(t+1))}function nu(e){return e>=55296&&e<=56319}function nc(e){return e>=56320&&e<=57343}function nh(e,t){let r=e.source.body.codePointAt(t);if(void 0===r)return m.EOF;if(r>=32&&r<=126){let e=String.fromCodePoint(r);return'"'===e?"'\"'":`"${e}"`}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function nd(e,t,r,i,n){let s=e.line,o=1+r-e.lineStart;return new el(t,r,i,s,o,n)}function nf(e,t,r){if(!ts(r))throw ns(e.source,t,`Invalid number, expected digit but got: ${nh(e,t)}.`);let i=e.source.body,n=t+1;for(;ts(i.charCodeAt(n));)++n;return n}function np(e,t){return ny(e.charCodeAt(t))<<12|ny(e.charCodeAt(t+1))<<8|ny(e.charCodeAt(t+2))<<4|ny(e.charCodeAt(t+3))}function ny(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}let nm=globalThis.process&&1?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if("object"==typeof e&&null!==e){var r;let i=t.prototype[Symbol.toStringTag];if(i===(Symbol.toStringTag in e?e[Symbol.toStringTag]:null==(r=e.constructor)?void 0:r.name)){let t=eo(e,[]);throw Error(`Cannot use ${i} "${t}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class nb{constructor(e,t="GraphQL request",r={line:1,column:1}){"string"==typeof e||es(!1,`Body must be a string. Received: ${function(e){return eo(e,[])}(e)}.`),this.body=e,this.name=t,this.locationOffset=r,this.locationOffset.line>0||es(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||es(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}class nv{constructor(e,t={}){const{lexer:r,...i}=t;if(r)this._lexer=r;else{const t=!function(e){return nm(e,nb)}(e)?new nb(e):e;this._lexer=new no(t)}this._options=i,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){let e=this.expectToken(m.NAME);return this.node(e,{kind:f.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:f.DOCUMENT,definitions:this.many(m.SOF,this.parseDefinition,m.EOF)})}parseDefinition(){if(this.peek(m.BRACE_L))return this.parseOperationDefinition();let e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(e&&t.kind===m.BRACE_L)throw ns(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are not supported on shorthand queries.");if(t.kind===m.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition()}if(e)throw ns(this._lexer.source,this._lexer.token.start,"Unexpected description, only GraphQL definitions support descriptions.");if("extend"===t.value)return this.parseTypeSystemExtension()}throw this.unexpected(t)}parseOperationDefinition(){let e,t=this._lexer.token;if(this.peek(m.BRACE_L))return this.node(t,{kind:f.OPERATION_DEFINITION,operation:p.QUERY,description:void 0,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let r=this.parseDescription(),i=this.parseOperationType();return this.peek(m.NAME)&&(e=this.parseName()),this.node(t,{kind:f.OPERATION_DEFINITION,operation:i,description:r,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let e=this.expectToken(m.NAME);switch(e.value){case"query":return p.QUERY;case"mutation":return p.MUTATION;case"subscription":return p.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(m.PAREN_L,this.parseVariableDefinition,m.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:f.VARIABLE_DEFINITION,description:this.parseDescription(),variable:this.parseVariable(),type:(this.expectToken(m.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(m.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let e=this._lexer.token;return this.expectToken(m.DOLLAR),this.node(e,{kind:f.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:f.SELECTION_SET,selections:this.many(m.BRACE_L,this.parseSelection,m.BRACE_R)})}parseSelection(){return this.peek(m.SPREAD)?this.parseFragment():this.parseField()}parseField(){let e,t,r=this._lexer.token,i=this.parseName();return this.expectOptionalToken(m.COLON)?(e=i,t=this.parseName()):t=i,this.node(r,{kind:f.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(m.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){let t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(m.PAREN_L,t,m.PAREN_R)}parseArgument(e=!1){let t=this._lexer.token,r=this.parseName();return this.expectToken(m.COLON),this.node(t,{kind:f.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let e=this._lexer.token;this.expectToken(m.SPREAD);let t=this.expectOptionalKeyword("on");return!t&&this.peek(m.NAME)?this.node(e,{kind:f.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:f.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let e=this._lexer.token,t=this.parseDescription();return(this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables)?this.node(e,{kind:f.FRAGMENT_DEFINITION,description:t,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:f.FRAGMENT_DEFINITION,description:t,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){let t=this._lexer.token;switch(t.kind){case m.BRACKET_L:return this.parseList(e);case m.BRACE_L:return this.parseObject(e);case m.INT:return this.advanceLexer(),this.node(t,{kind:f.INT,value:t.value});case m.FLOAT:return this.advanceLexer(),this.node(t,{kind:f.FLOAT,value:t.value});case m.STRING:case m.BLOCK_STRING:return this.parseStringLiteral();case m.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:f.BOOLEAN,value:!0});case"false":return this.node(t,{kind:f.BOOLEAN,value:!1});case"null":return this.node(t,{kind:f.NULL});default:return this.node(t,{kind:f.ENUM,value:t.value})}case m.DOLLAR:if(e){if(this.expectToken(m.DOLLAR),this._lexer.token.kind===m.NAME){let e=this._lexer.token.value;throw ns(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:f.STRING,value:e.value,block:e.kind===m.BLOCK_STRING})}parseList(e){let t=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:f.LIST,values:this.any(m.BRACKET_L,t,m.BRACKET_R)})}parseObject(e){let t=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:f.OBJECT,fields:this.any(m.BRACE_L,t,m.BRACE_R)})}parseObjectField(e){let t=this._lexer.token,r=this.parseName();return this.expectToken(m.COLON),this.node(t,{kind:f.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){let t=[];for(;this.peek(m.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){let t=this._lexer.token;return this.expectToken(m.AT),this.node(t,{kind:f.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){let e,t=this._lexer.token;if(this.expectOptionalToken(m.BRACKET_L)){let r=this.parseTypeReference();this.expectToken(m.BRACKET_R),e=this.node(t,{kind:f.LIST_TYPE,type:r})}else e=this.parseNamedType();return this.expectOptionalToken(m.BANG)?this.node(t,{kind:f.NON_NULL_TYPE,type:e}):e}parseNamedType(){return this.node(this._lexer.token,{kind:f.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(m.STRING)||this.peek(m.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");let r=this.parseConstDirectives(),i=this.many(m.BRACE_L,this.parseOperationTypeDefinition,m.BRACE_R);return this.node(e,{kind:f.SCHEMA_DEFINITION,description:t,directives:r,operationTypes:i})}parseOperationTypeDefinition(){let e=this._lexer.token,t=this.parseOperationType();this.expectToken(m.COLON);let r=this.parseNamedType();return this.node(e,{kind:f.OPERATION_TYPE_DEFINITION,operation:t,type:r})}parseScalarTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");let r=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:f.SCALAR_TYPE_DEFINITION,description:t,name:r,directives:i})}parseObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");let r=this.parseName(),i=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:f.OBJECT_TYPE_DEFINITION,description:t,name:r,interfaces:i,directives:n,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(m.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(m.BRACE_L,this.parseFieldDefinition,m.BRACE_R)}parseFieldDefinition(){let e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(m.COLON);let n=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(e,{kind:f.FIELD_DEFINITION,description:t,name:r,arguments:i,type:n,directives:s})}parseArgumentDefs(){return this.optionalMany(m.PAREN_L,this.parseInputValueDef,m.PAREN_R)}parseInputValueDef(){let e,t=this._lexer.token,r=this.parseDescription(),i=this.parseName();this.expectToken(m.COLON);let n=this.parseTypeReference();this.expectOptionalToken(m.EQUALS)&&(e=this.parseConstValueLiteral());let s=this.parseConstDirectives();return this.node(t,{kind:f.INPUT_VALUE_DEFINITION,description:r,name:i,type:n,defaultValue:e,directives:s})}parseInterfaceTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");let r=this.parseName(),i=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:f.INTERFACE_TYPE_DEFINITION,description:t,name:r,interfaces:i,directives:n,fields:s})}parseUnionTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");let r=this.parseName(),i=this.parseConstDirectives(),n=this.parseUnionMemberTypes();return this.node(e,{kind:f.UNION_TYPE_DEFINITION,description:t,name:r,directives:i,types:n})}parseUnionMemberTypes(){return this.expectOptionalToken(m.EQUALS)?this.delimitedMany(m.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");let r=this.parseName(),i=this.parseConstDirectives(),n=this.parseEnumValuesDefinition();return this.node(e,{kind:f.ENUM_TYPE_DEFINITION,description:t,name:r,directives:i,values:n})}parseEnumValuesDefinition(){return this.optionalMany(m.BRACE_L,this.parseEnumValueDefinition,m.BRACE_R)}parseEnumValueDefinition(){let e=this._lexer.token,t=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:f.ENUM_VALUE_DEFINITION,description:t,name:r,directives:i})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw ns(this._lexer.source,this._lexer.token.start,`${ng(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");let r=this.parseName(),i=this.parseConstDirectives(),n=this.parseInputFieldsDefinition();return this.node(e,{kind:f.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:r,directives:i,fields:n})}parseInputFieldsDefinition(){return this.optionalMany(m.BRACE_L,this.parseInputValueDef,m.BRACE_R)}parseTypeSystemExtension(){let e=this._lexer.lookahead();if(e.kind===m.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let t=this.parseConstDirectives(),r=this.optionalMany(m.BRACE_L,this.parseOperationTypeDefinition,m.BRACE_R);if(0===t.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:f.SCHEMA_EXTENSION,directives:t,operationTypes:r})}parseScalarTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let t=this.parseName(),r=this.parseConstDirectives();if(0===r.length)throw this.unexpected();return this.node(e,{kind:f.SCALAR_TYPE_EXTENSION,name:t,directives:r})}parseObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let t=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),n=this.parseFieldsDefinition();if(0===r.length&&0===i.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:f.OBJECT_TYPE_EXTENSION,name:t,interfaces:r,directives:i,fields:n})}parseInterfaceTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let t=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),n=this.parseFieldsDefinition();if(0===r.length&&0===i.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:f.INTERFACE_TYPE_EXTENSION,name:t,interfaces:r,directives:i,fields:n})}parseUnionTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let t=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:f.UNION_TYPE_EXTENSION,name:t,directives:r,types:i})}parseEnumTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let t=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:f.ENUM_TYPE_EXTENSION,name:t,directives:r,values:i})}parseInputObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let t=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:f.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:r,fields:i})}parseDirectiveDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(m.AT);let r=this.parseName(),i=this.parseArgumentDefs(),n=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let s=this.parseDirectiveLocations();return this.node(e,{kind:f.DIRECTIVE_DEFINITION,description:t,name:r,arguments:i,repeatable:n,locations:s})}parseDirectiveLocations(){return this.delimitedMany(m.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(y,t.value))return t;throw this.unexpected(e)}parseSchemaCoordinate(){let e,t,r=this._lexer.token,i=this.expectOptionalToken(m.AT),n=this.parseName();return(!i&&this.expectOptionalToken(m.DOT)&&(e=this.parseName()),(i||e)&&this.expectOptionalToken(m.PAREN_L)&&(t=this.parseName(),this.expectToken(m.COLON),this.expectToken(m.PAREN_R)),i)?t?this.node(r,{kind:f.DIRECTIVE_ARGUMENT_COORDINATE,name:n,argumentName:t}):this.node(r,{kind:f.DIRECTIVE_COORDINATE,name:n}):e?t?this.node(r,{kind:f.ARGUMENT_COORDINATE,name:n,fieldName:e,argumentName:t}):this.node(r,{kind:f.MEMBER_COORDINATE,name:n,memberName:e}):this.node(r,{kind:f.TYPE_COORDINATE,name:n})}node(e,t){return!0!==this._options.noLocation&&(t.loc=new ea(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){let t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw ns(this._lexer.source,t.start,`Expected ${nw(e)}, found ${ng(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){let t=this._lexer.token;if(t.kind===m.NAME&&t.value===e)this.advanceLexer();else throw ns(this._lexer.source,t.start,`Expected "${e}", found ${ng(t)}.`)}expectOptionalKeyword(e){let t=this._lexer.token;return t.kind===m.NAME&&t.value===e&&(this.advanceLexer(),!0)}unexpected(e){let t=null!=e?e:this._lexer.token;return ns(this._lexer.source,t.start,`Unexpected ${ng(t)}.`)}any(e,t,r){this.expectToken(e);let i=[];for(;!this.expectOptionalToken(r);)i.push(t.call(this));return i}optionalMany(e,t,r){if(this.expectOptionalToken(e)){let e=[];do e.push(t.call(this));while(!this.expectOptionalToken(r))return e}return[]}many(e,t,r){this.expectToken(e);let i=[];do i.push(t.call(this));while(!this.expectOptionalToken(r))return i}delimitedMany(e,t){this.expectOptionalToken(e);let r=[];do r.push(t.call(this));while(this.expectOptionalToken(e))return r}advanceLexer(){let{maxTokens:e}=this._options,t=this._lexer.advance();if(t.kind!==m.EOF&&(++this._tokenCounter,void 0!==e&&this._tokenCounter>e))throw ns(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function ng(e){let t=e.value;return nw(e.kind)+(null!=t?` "${t}"`:"")}function nw(e){return e===m.BANG||e===m.DOLLAR||e===m.AMP||e===m.PAREN_L||e===m.PAREN_R||e===m.DOT||e===m.SPREAD||e===m.COLON||e===m.EQUALS||e===m.AT||e===m.BRACKET_L||e===m.BRACKET_R||e===m.BRACE_L||e===m.PIPE||e===m.BRACE_R?`"${e}"`:e}var nE=new Map,nk=new Map,nS=!0,nO=!1;function nT(e){return e.replace(/[\s,]+/g," ").trim()}function nx(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];"string"==typeof e&&(e=[e]);var i=e[0];return t.forEach(function(t,r){t&&"Document"===t.kind?i+=t.loc.source.body:i+=t,i+=e[r+1]}),function(e){var t=nT(e);if(!nE.has(t)){let l,u;var r,i,n,s,o,a=(Object.defineProperty(u=(l=new nv(e,{experimentalFragmentVariables:nO,allowLegacyFragmentVariables:nO})).parseDocument(),"tokenCount",{enumerable:!1,value:l.tokenCount}),u);if(!a||"Document"!==a.kind)throw Error("Not a valid GraphQL document.");nE.set(t,((s=new Set((r=new Set,i=[],a.definitions.forEach(function(e){if("FragmentDefinition"===e.kind){var t,n=e.name.value,s=nT((t=e.loc).source.body.substring(t.start,t.end)),o=nk.get(n);o&&!o.has(s)?nS&&console.warn("Warning: fragment with name "+n+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||nk.set(n,o=new Set),o.add(s),r.has(s)||(r.add(s),i.push(e))}else i.push(e)}),n=O(O({},a),{definitions:i})).definitions)).forEach(function(e){e.loc&&delete e.loc,Object.keys(e).forEach(function(t){var r=e[t];r&&"object"==typeof r&&s.add(r)})}),(o=n.loc)&&(delete o.startToken,delete o.endToken),n))}return nE.get(t)}(i)}var n_=nx;(u=nx||(nx={})).gql=n_,u.resetCaches=function(){nE.clear(),nk.clear()},u.disableFragmentWarnings=function(){nS=!1},u.enableExperimentalFragmentVariables=function(){nO=!0},u.disableExperimentalFragmentVariables=function(){nO=!1},nx.default=nx,e.s(["gql",()=>nx],2807);class nN{isIncrementalResult(e){return!1}prepareRequest(e){return eS(!i0(["defer","stream"],e.query),67),e}extractErrors(){}startRequest=void 0}let nI=eH.execute;function nC(e,t){return eX(e,t,t.variables&&{variables:eX({...e&&e.variables,...t.variables})})}function nD(e){return ef(e,{FragmentSpread(e){if(!e.directives?.some(({name:e})=>"unmask"===e.value))return null}})}function nA(e,t){var r=C(e)?e:function(){return e},i=function(e){return e.error(r())};return new er(t?function(e){return t.schedule(i,0,e)}:i)}function nR(e){return ru(function(t,r){var i,n=null,s=!1;n=t.subscribe(rc(r,void 0,void 0,function(o){i=r_(e(o,nR(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):s=!0})),s&&(n.unsubscribe(),n=null,i.subscribe(r))})}function nF(e,t,r,i,n){void 0===i&&(i=0),void 0===n&&(n=!1);var s=t.schedule(function(){r(),n?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!n)return s}function nP(e,t,r){return(void 0===r&&(r=1/0),C(t))?nP(function(r,i){return rf(function(e,n){return t(r,e,i,n)})(r_(e(r,i)))},r):("number"==typeof t&&(r=t),ru(function(t,i){var n,s,o,a,l,u,c,h;return n=r,s=[],o=0,a=0,l=!1,u=function(){!l||s.length||o||i.complete()},c=function(e){return o<n?h(e):s.push(e)},h=function(t){o++;var r=!1;r_(e(t,a++)).subscribe(rc(i,function(e){i.next(e)},function(){r=!0},void 0,function(){if(r)try{for(o--;s.length&&o<n;)!function(){var e=s.shift();h(e)}();u()}catch(e){i.error(e)}}))},t.subscribe(rc(i,c,function(){l=!0,u()})),function(){}}))}function nM(e){var t;return(t=e[e.length-1])&&C(t.schedule)?e.pop():void 0}function nj(e,t){return void 0===t&&(t=0),ru(function(r,i){r.subscribe(rc(i,function(r){return nF(i,e,function(){return i.next(r)},t)},function(){return nF(i,e,function(){return i.complete()},t)},function(r){return nF(i,e,function(){return i.error(r)},t)}))})}function nL(e,t){return void 0===t&&(t=0),ru(function(r,i){i.add(e.schedule(function(){return r.subscribe(i)},t))})}function nq(e,t){if(!e)throw Error("Iterable cannot be null");return new er(function(r){nF(r,t,function(){var i=e[Symbol.asyncIterator]();nF(r,t,function(){i.next().then(function(e){e.done?r.complete():r.next(e.value)})},0,!0)})})}function nV(e,t){return t?function(e,t){if(null!=e){if(C(e[ee]))return r_(e).pipe(nL(t),nj(t));if(rg(e))return new er(function(r){var i=0;return t.schedule(function(){i===e.length?r.complete():(r.next(e[i++]),r.closed||this.schedule())})});if(rw(e))return r_(e).pipe(nL(t),nj(t));if(rE(e))return nq(e,t);if(rO(e))return new er(function(r){var i;return nF(r,t,function(){i=e[rS](),nF(r,t,function(){var e,t,n;try{t=(e=i.next()).value,n=e.done}catch(e){r.error(e);return}n?r.complete():r.next(t)},0,!0)}),function(){return C(null==i?void 0:i.return)&&i.return()}});if(rx(e))return nq(rT(e),t)}throw rk(e)}(e,t):r_(e)}function nQ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return nP(et,1)(nV(e,nM(e)))}function nU(e,t){return ru(function(r,i){var n=0;r.subscribe(rc(i,function(r){return e.call(t,r,n++)&&i.next(r)}))})}e.s(["mergeOptions",()=>nC],59409);var nB=D(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function nz(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=nM(e);return nV(e,r)}(c=b||(b={})).NEXT="N",c.ERROR="E",c.COMPLETE="C";var nW=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){return function(e,t){var r,i,n,s=e.kind,o=e.value,a=e.error;if("string"!=typeof s)throw TypeError('Invalid notification, missing "kind"');"N"===s?null==(r=t.next)||r.call(t,o):"E"===s?null==(i=t.error)||i.call(t,a):null==(n=t.complete)||n.call(t)}(this,e)},e.prototype.do=function(e,t,r){var i=this.kind,n=this.value,s=this.error;return"N"===i?null==e?void 0:e(n):"E"===i?null==t?void 0:t(s):null==r?void 0:r()},e.prototype.accept=function(e,t,r){return C(null==e?void 0:e.next)?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){var e=this.kind,t=this.value,r=this.error,i="N"===e?nz(t):"E"===e?nA(function(){return r}):"C"===e?en:0;if(!i)throw TypeError("Unexpected notification kind "+e);return i},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function n$(e){return e.filter(e=>e).map(e=>e.message||"Error message not found.").join("\n")}class nK extends Error{static is(e){return e1(e,"CombinedGraphQLErrors")}static formatMessage=n$;errors;data;extensions;constructor(e,t=e.errors||[]){super(nK.formatMessage(t,{result:e,defaultFormatMessage:n$})),this.errors=t,this.data=e.data,this.extensions=e.extensions,this.name="CombinedGraphQLErrors",e2(this),Object.setPrototypeOf(this,nK.prototype)}}let nG=new WeakSet;function nY(e,t,r){return ib.withValue(!0,()=>{let i=function e(t,r,i,n,s){let{knownChanged:o}=i,a=function(e,t){if(t.has(e))return t.get(e);let r=Array.isArray(e)?[]:{};return t.set(e,r),r}(t,i.mutableTargets);if(Array.isArray(t)){for(let[s,l]of Array.from(t.entries())){if(null===l){a[s]=null;continue}let t=e(l,r,i,n,void 0);o.has(t)&&o.add(a),a[s]=t}return o.has(a)?a:t}for(let l of r.selections){let r;if(n&&o.add(a),l.kind===f.FIELD){let s=rB(l),u=l.selectionSet;if(void 0===(r=a[s]||t[s]))continue;if(u&&null!==r){let a=e(t[s],u,i,n,void 0);o.has(a)&&(r=a)}a[s]=r}if(l.kind===f.INLINE_FRAGMENT&&(!l.typeCondition||i.cache.fragmentMatches(l,t.__typename))&&(r=e(t,l.selectionSet,i,n,s)),l.kind===f.FRAGMENT_SPREAD){let n=l.name.value,o=i.fragmentMap[n]||(i.fragmentMap[n]=i.cache.lookupFragment(n));eS(o,39,n);let a=function(e){let t=e.directives?.find(({name:e})=>"unmask"===e.value);if(!t)return"mask";let r=t.arguments?.find(({name:e})=>"mode"===e.value);return r&&"value"in r.value&&"migrate"===r.value.value?"migrate":"unmask"}(l);"mask"!==a&&(r=e(t,o.selectionSet,i,"migrate"===a,s))}o.has(r)&&o.add(a)}return"__typename"in t&&!("__typename"in a)&&(a.__typename=t.__typename),Object.keys(a).length!==Object.keys(t).length&&o.add(a),o.has(a)?a:t}(e,t,r,!1);return Object.isFrozen(e),i})}function nJ(e){return 7===e||8===e}function nH(e,t=()=>void 0){return r=>new er(i=>{let n=t();return r.subscribe({next(t){let r;try{r=e(t,n)}catch(e){i.error(e)}void 0!==r&&i.next(r)},error(e){i.error(e)},complete(){i.complete()}})})}function nX(e){return!!e.errors?.length}function nZ(e){let t=new Map;return function(r=e){let i=t.get(r);return i||t.set(r,i={variables:new Set,fragmentSpreads:new Set}),i}}function n0(e){let t={data:e.data};return e.error&&(t.error=e.error),t}(h=v||(v={}))[h.loading=1]="loading",h[h.setVariables=2]="setVariables",h[h.fetchMore=3]="fetchMore",h[h.refetch=4]="refetch",h[h.poll=6]="poll",h[h.ready=7]="ready",h[h.error=8]="error",h[h.streaming=9]="streaming",e.s(["NetworkStatus",()=>v],7799);var n1=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return S(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r.closed||t.next(this._value),r},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,r=this._value;if(e)throw t;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(ry);function n2(e){return e.catch(()=>{}),e}e.s(["preventUnhandledRejection",()=>n2],91407);let{assign:n3,hasOwnProperty:n4}=Object,n9={loading:!0,networkStatus:v.loading,data:void 0,dataState:"empty",partial:!0},n8={loading:!1,networkStatus:v.ready,data:void 0,dataState:"empty",partial:!0};class n5{options;queryName;variablesUnknown=!1;_lastWrite;get query(){return this.lastQuery}get variables(){return this.options.variables}unsubscribeFromCache;input;subject;isTornDown;queryManager;subscriptions=new Set;waitForNetworkResult;lastQuery;linkSubscription;pollingInfo;get networkStatus(){return this.subject.getValue().result.networkStatus}get cache(){return this.queryManager.cache}constructor({queryManager:e,options:t,transformedQuery:r=e.transform(t.query)}){this.queryManager=e,this.waitForNetworkResult="network-only"===t.fetchPolicy,this.isTornDown=!1,this.subscribeToMore=this.subscribeToMore.bind(this),this.maskResult=this.maskResult.bind(this);const{watchQuery:{fetchPolicy:i="cache-first"}={}}=e.defaultOptions,{fetchPolicy:n=i,initialFetchPolicy:s="standby"===n?i:n}=t;t[iw]&&(eS("standby"===n,80),this.variablesUnknown=!0),this.lastQuery=r,this.options={...t,initialFetchPolicy:s,fetchPolicy:n,variables:this.getVariablesWithDefaults(t.variables)},this.initializeObservablesQueue(),this["@@observable"]=()=>this,Symbol.observable&&(this[Symbol.observable]=()=>this);const o=eJ(this.query);this.queryName=o&&o.name&&o.name.value}initializeObservablesQueue(){this.subject=new n1({query:this.query,variables:this.variables,result:n9,meta:{}});let e=this.subject.pipe(rA({subscribe:()=>{this.subject.observed||(this.reobserve(),setTimeout(()=>this.updatePolling()))},unsubscribe:()=>{this.subject.observed||this.tearDownQuery()}}),nH(({query:e,variables:t,result:r,meta:i},n)=>{let{shouldEmit:s}=i;if(r===n9&&(n.previous=void 0,n.previousVariables=void 0),"standby"===this.options.fetchPolicy||2===s)return;if(1===s)return l();let{previous:o,previousVariables:a}=n;if(o){let i=this.queryManager.getDocumentInfo(e),n=this.queryManager.dataMasking,s=n?i.nonReactiveQuery:e;if((n||i.hasNonreactiveDirective?rW(s,o,r,t):tN(o,r))&&tN(a,t))return}if(!(3===s&&(!this.options.notifyOnNetworkStatusChange||tN(o,r))))return l();function l(){return n.previous=r,n.previousVariables=t,r}},()=>({})));this.pipe=e.pipe.bind(e),this.subscribe=e.subscribe.bind(e),this.input=new ry,this.input.complete=()=>{},this.input.pipe(this.operator).subscribe(this.subject)}subscribe;pipe;[Symbol.observable];"@@observable";getCacheDiff({optimistic:e=!0}={}){return this.cache.diff({query:this.query,variables:this.variables,returnPartialData:!0,optimistic:e})}getInitialResult(e){let t=e||this.options.fetchPolicy;this.queryManager.prioritizeCacheValues&&("network-only"===t||"cache-and-network"===t)&&(t="cache-first");let r=()=>{let e=this.getCacheDiff(),t=this.options.returnPartialData||e.complete?e.result??void 0:void 0;return this.maskResult({data:t,dataState:e.complete?"complete":void 0===t?"empty":"partial",loading:!e.complete,networkStatus:e.complete?v.ready:v.loading,partial:!e.complete})};switch(t){case"cache-only":return{...r(),loading:!1,networkStatus:v.ready};case"cache-first":return r();case"cache-and-network":return{...r(),loading:!0,networkStatus:v.loading};case"standby":return n8;default:return n9}}resubscribeCache(){let{variables:e,fetchPolicy:t}=this.options,r=this.query,i="standby"===t||"no-cache"===t||this.waitForNetworkResult,n=!n6({query:r,variables:e},this.unsubscribeFromCache)&&!this.waitForNetworkResult;if((i||n)&&this.unsubscribeFromCache?.(),i||!n)return;let s={query:r,variables:e,optimistic:!0,watcher:this,callback:e=>{let t=this.queryManager.getDocumentInfo(r);if((t.hasClientExports||t.hasForcedResolvers)&&(s.lastDiff=void 0),s.lastOwnDiff===e)return;let{result:i}=this.subject.getValue();(e.complete||!i.error&&i!==n9&&i!==n8)&&(tN(i.data,e.result)||this.scheduleNotify())}},o=this.cache.watch(s);this.unsubscribeFromCache=Object.assign(()=>{this.unsubscribeFromCache=void 0,o()},{query:r,variables:e})}stableLastResult;getCurrentResult(){let{result:e}=this.subject.getValue(),t=e.networkStatus===v.error||this.hasObservers()||"no-cache"===this.options.fetchPolicy?e:this.getInitialResult();return t===n9&&(t=this.getInitialResult()),tN(this.stableLastResult,t)||(this.stableLastResult=t),this.stableLastResult}refetch(e){let{fetchPolicy:t}=this.options,r={pollInterval:0};return"no-cache"===t?r.fetchPolicy="no-cache":r.fetchPolicy="network-only",e&&!tN(this.variables,e)&&(r.variables=this.options.variables=this.getVariablesWithDefaults({...this.variables,...e})),this._lastWrite=void 0,this._reobserve(r,{newNetworkStatus:v.refetch})}fetchMore({query:e,variables:t,context:r,errorPolicy:i,updateQuery:n}){eS("cache-only"!==this.options.fetchPolicy,82,eD(this.query,"(anonymous)"));let s={...eX(this.options,{errorPolicy:"none"},{query:e,context:r,errorPolicy:i}),variables:e?t:{...this.variables,...t},fetchPolicy:"no-cache",notifyOnNetworkStatusChange:this.options.notifyOnNetworkStatusChange};s.query=this.transformDocument(s.query),this.lastQuery=e?this.transformDocument(this.options.query):s.query;let o=!1,a="no-cache"!==this.options.fetchPolicy;a||eS(n,83);let{finalize:l,pushNotification:u}=this.pushOperation(v.fetchMore);u({source:"newNetworkStatus",kind:"N",value:{}},{shouldEmit:3});let{promise:c,operator:h}=n7(),{observable:d}=this.queryManager.fetchObservableWithInfo(s,{networkStatus:v.fetchMore,exposeExtensions:!0}),f=d.pipe(h,nU(e=>"N"===e.kind&&"network"===e.source)).subscribe({next:e=>{o=!1;let t=e.value,r=t[iv];if(nJ(e.value.networkStatus)&&l(),a){let e=this.getCacheDiff();this.cache.batch({update:e=>{n?e.updateQuery({query:this.query,variables:this.variables,returnPartialData:!0,optimistic:!1,extensions:r},e=>n(e,{fetchMoreResult:t.data,variables:s.variables})):e.writeQuery({query:s.query,variables:s.variables,data:t.data,extensions:r})},onWatchUpdated:(r,i)=>{if(r.watcher===this&&!tN(i.result,e.result)){o=!0;let e=this.getCurrentResult();nJ(t.networkStatus)||u({kind:"N",source:"network",value:{...e,networkStatus:t.networkStatus===v.error?v.ready:t.networkStatus,loading:!1,data:i.result,dataState:"streaming"===t.dataState?"streaming":"complete"}})}}})}else{let e=this.getCurrentResult(),r=n(e.data,{fetchMoreResult:t.data,variables:s.variables});u({kind:"N",value:{...e,networkStatus:v.ready,loading:!1,data:r,dataState:"streaming"===e.dataState?"streaming":"complete"},source:"network"})}}});return n2(c.then(e=>n0(this.maskResult(e))).finally(()=>{if(f.unsubscribe(),l(),a&&!o){let e=this.getCurrentResult();"streaming"===e.dataState?u({kind:"N",source:"network",value:{...e,dataState:"complete",networkStatus:v.ready}}):u({kind:"N",source:"newNetworkStatus",value:{}},{shouldEmit:1})}}))}subscribeToMore(e){let t=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:t=>{let{updateQuery:r,onError:i}=e,{error:n}=t;n?i?i(n):eS.error(84,n):r&&this.updateQuery((e,i)=>r(e,{subscriptionData:t,...i}))}});return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)&&t.unsubscribe()}}applyOptions(e){let t=eX(this.options,e||{});n3(this.options,t),this.updatePolling()}async setVariables(e){return(e=this.getVariablesWithDefaults(e),tN(this.variables,e))?n0(this.getCurrentResult()):(this.options.variables=e,this.hasObservers())?this._reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},{newNetworkStatus:v.setVariables}):n0(this.getCurrentResult())}updateQuery(e){let{queryManager:t}=this,{result:r,complete:i}=this.getCacheDiff({optimistic:!1}),n=e(r,{variables:this.variables,complete:!!i,previousData:r});n&&(this.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),t.broadcastQueries())}startPolling(e){this.options.pollInterval=e,this.updatePolling()}stopPolling(){this.options.pollInterval=0,this.updatePolling()}applyNextFetchPolicy(e,t){if(t.nextFetchPolicy){let{fetchPolicy:r="cache-first",initialFetchPolicy:i=r}=t;"standby"===r||("function"==typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy.call(t,r,{reason:e,options:t,observable:this,initialFetchPolicy:i}):"variables-changed"===e?t.fetchPolicy=i:t.fetchPolicy=t.nextFetchPolicy)}return t.fetchPolicy}fetch(e,t,r,i){let n=this.options.fetchPolicy;e.context??={};let s=!1,o=e=>new er(r=>{try{return e.subscribe({next(e){s=!0,r.next(e)},error:e=>r.error(e),complete:()=>r.complete()})}finally{s||(h.override=t,this.input.next({kind:"N",source:"newNetworkStatus",value:{resetError:!0},query:u,variables:c,meta:{shouldEmit:3,fetchPolicy:n}}))}}),{observable:a,fromLink:l}=this.queryManager.fetchObservableWithInfo(e,{networkStatus:t,query:r,onCacheHit:()=>{s=!0},fetchQueryOperator:o,observableQuery:this}),{query:u,variables:c}=this,h={abort:()=>{f.unsubscribe()},query:u,variables:c};this.activeOperations.add(h);let d=t==v.refetch||t==v.setVariables,f=(a=a.pipe(i,rI())).pipe(rA({next:e=>{"newNetworkStatus"===e.source||"N"===e.kind&&e.value.loading?h.override=t:delete h.override},finalize:()=>this.activeOperations.delete(h)})).subscribe({next:e=>{let t={};d&&"N"===e.kind&&"loading"in e.value&&!e.value.loading&&(d=!1,t.shouldEmit=1),this.input.next({...e,query:u,variables:c,meta:t})}});return{fromLink:l,subscription:f,observable:a}}didWarnCacheOnlyPolling=!1;updatePolling(){if(this.queryManager.ssrMode)return;let{pollingInfo:e,options:{fetchPolicy:t,pollInterval:r}}=this;if(!r||!this.hasObservers()||"cache-only"===t)return void this.cancelPolling();if(e?.interval===r)return;(e||(this.pollingInfo={})).interval=r;let i=()=>{this.pollingInfo&&(!nJ(this.networkStatus)||this.options.skipPollAttempt?.()?n():this._reobserve({fetchPolicy:"no-cache"===this.options.initialFetchPolicy?"no-cache":"network-only"},{newNetworkStatus:v.poll}).then(n,n))},n=()=>{let e=this.pollingInfo;e&&(clearTimeout(e.timeout),e.timeout=setTimeout(i,e.interval))};n()}cancelPolling(){this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),delete this.pollingInfo)}reobserve(e){return this._reobserve(e)}_reobserve(e,t){this.isTornDown=!1;let{newNetworkStatus:r}=t||{};this.queryManager.obsQueries.add(this);let i=r===v.refetch||r===v.poll,n=this.variables,s=this.options.fetchPolicy,o=eX(this.options,e||{});this.variablesUnknown&&="standby"===o.fetchPolicy;let a=i?o:n3(this.options,o),l=this.transformDocument(a.query);this.lastQuery=l,e&&"variables"in e&&(a.variables=this.getVariablesWithDefaults(e.variables)),!i&&(this.updatePolling(),e&&e.variables&&!tN(e.variables,n)&&"standby"!==a.fetchPolicy&&(a.fetchPolicy===s||"function"==typeof a.nextFetchPolicy)&&(this.applyNextFetchPolicy("variables-changed",a),void 0===r&&(r=v.setVariables)));let u=this.networkStatus;r||(r=v.loading,u!==v.loading&&e?.variables&&!tN(e.variables,n)&&(r=v.setVariables),"standby"===a.fetchPolicy&&(r=v.ready)),"standby"===a.fetchPolicy&&this.cancelPolling(),this.resubscribeCache();let{promise:c,operator:h}=n7("standby"===a.fetchPolicy?{data:void 0}:void 0),{subscription:d,observable:f,fromLink:p}=this.fetch(a,r,l,h);i||!p&&this.linkSubscription||(this.linkSubscription&&this.linkSubscription.unsubscribe(),this.linkSubscription=d);let y=Object.assign(n2(c.then(e=>n0(this.maskResult(e))).finally(()=>{this.hasObservers()||0!==this.activeOperations.size||this.tearDownQuery()})),{retain:()=>{let e=f.subscribe({}),t=()=>e.unsubscribe();return c.then(t,t),y}});return y}hasObservers(){return this.subject.observed}stop(){this.subject.complete(),this.initializeObservablesQueue(),this.tearDownQuery()}tearDownQuery(){this.isTornDown||(this.resetNotifications(),this.unsubscribeFromCache?.(),this.linkSubscription&&(this.linkSubscription.unsubscribe(),delete this.linkSubscription),this.stopPolling(),this.subscriptions.forEach(e=>e.unsubscribe()),this.subscriptions.clear(),this.queryManager.obsQueries.delete(this),this.isTornDown=!0,this.abortActiveOperations(),this._lastWrite=void 0)}transformDocument(e){return this.queryManager.transform(e)}maskResult(e){let t=this.queryManager.maskOperation({document:this.query,data:e.data,fetchPolicy:this.options.fetchPolicy,cause:this});return t===e.data?e:{...e,data:t}}dirty=!1;notifyTimeout;resetNotifications(){this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0),this.dirty=!1}scheduleNotify(){!this.dirty&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(()=>this.notify(!0),0)))}notify(e=!1){if(!e){let e=this.queryManager.getDocumentInfo(this.query);if(e.hasClientExports||e.hasForcedResolvers)return}let{dirty:t}=this;if(this.resetNotifications(),t&&("cache-only"===this.options.fetchPolicy||"cache-and-network"===this.options.fetchPolicy||!this.activeOperations.size)){let e=this.getCacheDiff();tN(e.result,this.getCacheDiff({optimistic:!1}).result)?this.reobserveCacheFirst():this.input.next({kind:"N",value:{data:e.result,dataState:e.complete?"complete":e.result?"partial":"empty",networkStatus:v.ready,loading:!1,error:void 0,partial:!e.complete},source:"cache",query:this.query,variables:this.variables,meta:{}})}}activeOperations=new Set;pushOperation(e){let t=!1,{query:r,variables:i}=this,n=()=>{this.activeOperations.delete(s)},s={override:e,abort:()=>{t=!0,n()},query:r,variables:i};return this.activeOperations.add(s),{finalize:n,pushNotification:(e,n)=>{t||this.input.next({...e,query:r,variables:i,meta:{...n}})}}}calculateNetworkStatus(e){if(e===v.streaming)return e;let t=Array.from(this.activeOperations.values()).reverse().find(e=>n6(e,this)&&void 0!==e.override);return t?.override??e}abortActiveOperations(){this.activeOperations.forEach(e=>e.abort())}reset(){let e="cache-only"===this.options.fetchPolicy;this.setResult(e?n8:n9,{shouldEmit:e?1:2}),this.abortActiveOperations()}setResult(e,t){this.input.next({source:"setResult",kind:"N",value:e,query:this.query,variables:this.variables,meta:{...t}})}operator=nH(e=>{let t,{query:r,variables:i,meta:n}=e;if("setResult"===e.source)return{query:r,variables:i,result:e.value,meta:n};if("C"===e.kind||!n6(e,this))return;let s=this.subject.getValue();if("cache"===e.source){if((t=e.value).networkStatus===v.ready&&t.partial&&(!this.options.returnPartialData||s.result.networkStatus===v.error)&&"cache-only"!==this.options.fetchPolicy)return}else if("network"===e.source)this.waitForNetworkResult&&(this.waitForNetworkResult=!1,this.resubscribeCache()),t="E"===e.kind?{...n6(s,e)?s.result:{data:void 0,dataState:"empty",partial:!0},error:e.error,networkStatus:v.error,loading:!1}:e.value,"E"===e.kind&&"streaming"===t.dataState&&(t.dataState="complete"),t.error&&(n.shouldEmit=1);else if("newNetworkStatus"===e.source){let r=n6(s,e)?s.result:this.getInitialResult(n.fetchPolicy),{resetError:i}=e.value,o=i?void 0:r.error,a=o?v.error:v.ready;t={...r,error:o,networkStatus:a}}return eS(t),t.error||delete t.error,t.networkStatus=this.calculateNetworkStatus(t.networkStatus),t.loading=!nJ(t.networkStatus),{query:r,variables:i,result:t=this.maskResult(t),meta:n}});reobserveCacheFirst(){let{fetchPolicy:e,nextFetchPolicy:t}=this.options;"cache-and-network"===e||"network-only"===e?this.reobserve({fetchPolicy:"cache-first",nextFetchPolicy(r,i){return(this.nextFetchPolicy=t,"function"==typeof this.nextFetchPolicy)?this.nextFetchPolicy(r,i):e}}):this.reobserve()}getVariablesWithDefaults(e){return this.queryManager.getVariables(this.query,e)}}function n6(e,t){return!!(e&&t&&e.query===t.query&&tN(e.variables,t.variables))}function n7(e){let t=e,r,i;return{promise:new Promise((e,t)=>{r=e,i=t}),operator:rA({next(e){if("E"===e.kind)return i(e.error);"N"!==e.kind||"newNetworkStatus"===e.source||e.value.loading||(t=e.value)},finalize:()=>{if(t)r(t);else{let e="The operation was aborted.",t="AbortError";i("u">typeof DOMException?new DOMException(e,t):Object.assign(Error(e),{name:t}))}}})}}let se={},st=new WeakMap;function sr(e,t){let r=e[t];"function"==typeof r&&(e[t]=function(){return st.set(e,(st.get(e)+1)%1e15),r.apply(this,arguments)})}let si=new WeakMap;class sn{lastRequestId=1;cache;queryManager;id;observableQuery;incremental;constructor(e,t){const r=this.cache=e.cache,i=(si.get(e)||0)+1;si.set(e,i),this.id=i+"",this.observableQuery=t,this.queryManager=e,st.has(r)||(st.set(r,0),sr(r,"evict"),sr(r,"modify"),sr(r,"reset"))}_lastWrite;get lastWrite(){return(this.observableQuery||this)._lastWrite}set lastWrite(e){(this.observableQuery||this)._lastWrite=e}resetLastWrite(){this.lastWrite=void 0}shouldWrite(e,t){let{lastWrite:r}=this;return!(r&&r.dmCount===st.get(this.cache)&&tN(t,r.variables)&&tN(e.data,r.result.data)&&e.extensions?.[ig]===r.result.extensions?.[ig])}get hasNext(){return!!this.incremental&&this.incremental.hasNext}maybeHandleIncrementalResult(e,t,r){let{incrementalHandler:i}=this.queryManager;return i.isIncrementalResult(t)?(this.incremental||=i.startRequest({query:r}),this.incremental.handle(e,t)):t}markQueryResult(e,{document:t,variables:r,errorPolicy:i,cacheWriteBehavior:n}){let s={query:t,variables:r,returnPartialData:!0,optimistic:!0};this.observableQuery?.resetNotifications();let o=0===n,a=o?void 0:this.cache.diff(s),l=this.maybeHandleIncrementalResult(a?.result,e,t);return o||(ss(l,i)?this.cache.batch({onWatchUpdated:(e,t)=>{e.watcher===this.observableQuery&&(e.lastOwnDiff=t)},update:e=>{if(this.shouldWrite(l,r))e.writeQuery({query:t,data:l.data,variables:r,overwrite:1===n,extensions:l.extensions}),this.lastWrite={result:l,variables:r,dmCount:st.get(this.cache)};else if(a&&a.complete){l={...l,data:a.result};return}let i=e.diff(s);i.complete&&(l={...l,data:i.result})}}):this.lastWrite=void 0),l}markMutationResult(e,t,r=this.cache){let i=[],n=0===t.cacheWriteBehavior,s=this.maybeHandleIncrementalResult(n?void 0:r.diff({id:"ROOT_MUTATION",query:this.queryManager.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0}).result,e,t.document);if("ignore"===t.errorPolicy&&(s={...s,errors:[]}),nX(s)&&"none"===t.errorPolicy)return Promise.resolve(s);let o=()=>({...s,dataState:this.hasNext?"streaming":"complete"});if(!n&&ss(s,t.errorPolicy)){i.push({result:s.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables,extensions:s.extensions});let{updateQueries:e}=t;e&&this.queryManager.getObservableQueries("all").forEach(t=>{let r=t&&t.queryName;if(!r||!Object.hasOwnProperty.call(e,r))return;let n=e[r],{query:s,variables:a}=t,{result:l,complete:u}=t.getCacheDiff({optimistic:!1});if(u&&l){let e=n(l,{mutationResult:o(),queryName:s&&eD(s)||void 0,queryVariables:a});e&&i.push({result:e,dataId:"ROOT_QUERY",query:s,variables:a})}})}let a=t.refetchQueries;if("function"==typeof a&&(a=a(o())),i.length>0||(a||"").length>0||t.update||t.onQueryUpdated||t.removeOptimistic){let e=[];if(this.queryManager.refetchQueries({updateCache:e=>{n||i.forEach(t=>e.write(t));let{update:r}=t;if(r){if(!n){let r=e.diff({id:"ROOT_MUTATION",query:this.queryManager.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0});r.complete&&(s={...s,data:r.result})}this.hasNext||r(e,s,{context:t.context,variables:t.variables})}n||t.keepRootFields||this.hasNext||e.modify({id:"ROOT_MUTATION",fields:(e,{fieldName:t,DELETE:r})=>"__typename"===t?e:r})},include:a,optimistic:!1,removeOptimistic:t.removeOptimistic,onQueryUpdated:t.onQueryUpdated||null}).forEach(t=>e.push(t)),t.awaitRefetchQueries||t.onQueryUpdated)return Promise.all(e).then(()=>s)}return Promise.resolve(s)}markMutationOptimistic(e,t){let r="function"==typeof e?e(t.variables,{IGNORE:se}):e;return r!==se&&(this.cache.recordOptimisticTransaction(e=>{try{this.markMutationResult({data:r},t,e)}catch(e){eS.error(e)}},this.id),!0)}markSubscriptionResult(e,{document:t,variables:r,errorPolicy:i,cacheWriteBehavior:n}){0!==n&&(ss(e,i)&&this.cache.write({query:t,result:e.data,dataId:"ROOT_SUBSCRIPTION",variables:r,extensions:e.extensions}),this.queryManager.broadcastQueries())}}function ss(e,t="none"){let r=!nX(e);return!r&&("ignore"===t||"all"===t)&&e.data&&(r=!0),r}class so{defaultOptions;client;clientOptions;assumeImmutableResults;documentTransform;ssrMode;defaultContext;dataMasking;incrementalHandler;localState;queryDeduplication;prioritizeCacheValues=!1;onBroadcast;mutationStore;obsQueries=new Set;fetchCancelFns=new Map;constructor(e){const t=new ra(e=>this.cache.transformDocument(e),{cache:!1});this.client=e.client,this.defaultOptions=e.defaultOptions,this.queryDeduplication=e.queryDeduplication,this.clientOptions=e.clientOptions,this.ssrMode=e.ssrMode,this.assumeImmutableResults=e.assumeImmutableResults,this.dataMasking=e.dataMasking,this.localState=e.localState,this.incrementalHandler=e.incrementalHandler;const r=e.documentTransform;this.documentTransform=r?t.concat(r).concat(t):t,this.defaultContext=e.defaultContext||{},(this.onBroadcast=e.onBroadcast)&&(this.mutationStore={})}get link(){return this.client.link}get cache(){return this.client.cache}stop(){this.obsQueries.forEach(e=>e.stop()),this.cancelPendingFetches(eT(87))}cancelPendingFetches(e){this.fetchCancelFns.forEach(t=>t(e)),this.fetchCancelFns.clear()}async mutate({mutation:e,variables:t,optimisticResponse:r,updateQueries:i,refetchQueries:n=[],awaitRefetchQueries:s=!1,update:o,onQueryUpdated:a,fetchPolicy:l,errorPolicy:u,keepRootFields:c,context:h}){let d=new sn(this);e=this.cache.transformForLink(this.transform(e));let{hasClientExports:f}=this.getDocumentInfo(e);t=this.getVariables(e,t),f&&(t=await this.localState.getExportedVariables({client:this.client,document:e,variables:t,context:h}));let p=this.mutationStore&&(this.mutationStore[d.id]={mutation:e,variables:t,loading:!0,error:null}),y=r&&d.markMutationOptimistic(r,{document:e,variables:t,cacheWriteBehavior:2*("no-cache"!==l),errorPolicy:u,context:h,updateQueries:i,update:o,keepRootFields:c});return this.broadcastQueries(),new Promise((f,m)=>{let b={};return this.getObservableFromLink(e,{...h,optimisticResponse:y?r:void 0},t,l,{},!1).observable.pipe(sa(),nP(r=>{let f={...r};return nV(d.markMutationResult(f,{document:e,variables:t,cacheWriteBehavior:2*("no-cache"!==l),errorPolicy:u,context:h,update:o,updateQueries:i,awaitRefetchQueries:s,refetchQueries:n,removeOptimistic:y?d.id:void 0,onQueryUpdated:a,keepRootFields:c}))})).pipe(rf(e=>{if(nX(e)&&"none"===u)throw new nK(sl(e));return p&&(p.loading=!1,p.error=null),e})).subscribe({next:t=>{if(this.broadcastQueries(),!d.hasNext){let r={data:this.maskOperation({document:e,data:t.data,fetchPolicy:l,cause:b})};nX(t)&&(r.error=new nK(t)),Object.keys(t.extensions||{}).length&&(r.extensions=t.extensions),f(r)}},error:e=>(p&&(p.loading=!1,p.error=e),y&&this.cache.removeOptimistic(d.id),this.broadcastQueries(),"ignore"===u)?f({data:void 0}):"all"===u?f({data:void 0,error:e}):void m(e)})})}fetchQuery(e,t){return eY(e.query,p.QUERY),(async()=>{var r,i,n;return r=this.fetchObservableWithInfo(e,{networkStatus:t}).observable.pipe(nH(e=>{switch(e.kind){case"E":throw e.error;case"N":if("newNetworkStatus"!==e.source)return n0(e.value)}})),n="object"==typeof(i={defaultValue:{data:void 0}}),new Promise(function(e,t){var s,o=!1;r.subscribe({next:function(e){s=e,o=!0},error:t,complete:function(){o?e(s):n?e(i.defaultValue):t(new nB)}})})})()}transform(e){return this.documentTransform.transformDocument(e)}transformCache=new e$(eC["queryManager.getDocumentInfo"]||2e3);getDocumentInfo(e){let{transformCache:t}=this;if(!t.has(e)){let r,i=eJ(e),n={hasClientExports:i0(["client","export"],e,!0),hasForcedResolvers:(r=!1,ef(e,{Directive:{enter(e){if("client"===e.name.value&&e.arguments&&(r=e.arguments.some(e=>"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value)))return ed}}}),r),hasNonreactiveDirective:i0(["nonreactive"],e),hasIncrementalDirective:i0(["defer"],e),nonReactiveQuery:ef(e,{FragmentSpread:e=>{if(!e.directives?.some(e=>"unmask"===e.name.value))return{...e,directives:[...e.directives||[],{kind:f.DIRECTIVE,name:{kind:f.NAME,value:"nonreactive"}}]}}}),clientQuery:i0(["client"],e)?e:null,serverQuery:function(e,t){var r,i,n;let s,o,a;eY(t);let l=nZ(""),u=nZ(""),c=e=>{for(let t=0,r;t<e.length&&(r=e[t]);++t)if(!r8(r)){if(r.kind===f.OPERATION_DEFINITION)return l(r.name&&r.name.value);if(r.kind===f.FRAGMENT_DEFINITION)return u(r.name.value)}return eS.error(14),null},h=0;for(let e=t.definitions.length-1;e>=0;--e)t.definitions[e].kind===f.OPERATION_DEFINITION&&++h;let d=(r=e,s=new Map,o=new Map,r.forEach(e=>{e&&(e.name?s.set(e.name,e):e.test&&o.set(e.test,e))}),e=>{let t=s.get(e.name.value);return!t&&o.size&&o.forEach((r,i)=>{i(e)&&(t=r)}),t}),p=e=>ix(e)&&e.map(d).some(e=>e&&e.remove),y=new Map,m=!1,b={enter(e){if(p(e.directives))return m=!0,null}},v=ef(t,{Field:b,InlineFragment:b,VariableDefinition:{enter:()=>!1},Variable:{enter(e,t,r,i,n){let s=c(n);s&&s.variables.add(e.name.value)}},FragmentSpread:{enter(e,t,r,i,n){if(p(e.directives))return m=!0,null;let s=c(n);s&&s.fragmentSpreads.add(e.name.value)}},FragmentDefinition:{enter(e,t,r,i){y.set(JSON.stringify(i),e)},leave:(e,t,r,i)=>e===y.get(JSON.stringify(i))?e:h>0&&e.selectionSet.selections.every(e=>e.kind===f.FIELD&&"__typename"===e.name.value)?(u(e.name.value).removed=!0,m=!0,null):void 0},Directive:{leave(e){if(d(e))return m=!0,null}}});if(!m)return t;let g=e=>(!e.transitiveVars&&(e.transitiveVars=new Set(e.variables),e.removed||e.fragmentSpreads.forEach(t=>{g(u(t)).transitiveVars.forEach(t=>{e.transitiveVars.add(t)})})),e),w=new Set;v.definitions.forEach(e=>{e.kind===f.OPERATION_DEFINITION?g(l(e.name&&e.name.value)).fragmentSpreads.forEach(e=>{w.add(e)}):e.kind!==f.FRAGMENT_DEFINITION||0!==h||u(e.name.value).removed||w.add(e.name.value)}),w.forEach(e=>{g(u(e)).fragmentSpreads.forEach(e=>{w.add(e)})});let E={enter(e){let t;if(t=e.name.value,!w.has(t)||u(t).removed)return null}};return!function e(t,r){return!t||t.selectionSet.selections.every(t=>t.kind===f.FRAGMENT_SPREAD&&e(r[t.name.value],r))}(eJ(i=ef(v,{FragmentSpread:E,FragmentDefinition:E,OperationDefinition:{leave(e){if(e.variableDefinitions){let t=g(l(e.name&&e.name.value)).transitiveVars;if(t.size<e.variableDefinitions.length)return{...e,variableDefinitions:e.variableDefinitions.filter(e=>t.has(e.variable.name.value))}}}}}))||(eS("Document"===(n=i).kind,6),eS(n.definitions.length<=1,7),eS("FragmentDefinition"===(a=n.definitions[0]).kind,8),a),rL(rq(i)))?i:null}([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],e),operationType:i?.operation,defaultVars:iY(i),asQuery:{...e,definitions:e.definitions.map(e=>"OperationDefinition"===e.kind&&"query"!==e.operation?{...e,operation:"query"}:e)}};t.set(e,n)}let r=t.get(e);if(r.violation)throw r.violation;return r}getVariables(e,t){let r=this.getDocumentInfo(e).defaultVars,i=Object.entries(t??{}).map(([e,t])=>[e,void 0===t?r[e]:t]);return{...r,...Object.fromEntries(i)}}watchQuery(e){eY(e.query,p.QUERY);let t=this.transform(e.query);return void 0===(e={...e,variables:this.getVariables(t,e.variables)}).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!0),new n5({queryManager:this,options:e,transformedQuery:t})}query(e){let t=this.transform(e.query);return this.fetchQuery({...e,query:t}).then(r=>({...r,data:this.maskOperation({document:t,data:r?.data,fetchPolicy:e.fetchPolicy})}))}requestIdCounter=1;generateRequestId(){return this.requestIdCounter++}clearStore(e={discardWatches:!0}){return this.cancelPendingFetches(eT(89)),this.obsQueries.forEach(e=>{e.reset()}),this.mutationStore&&(this.mutationStore={}),this.cache.reset(e)}getObservableQueries(e="active"){let t=new Set,r=new Map,i=new Map,n=new Set;return Array.isArray(e)&&e.forEach(e=>{if("string"==typeof e)r.set(e,e),i.set(e,!1);else if(e7(e)&&"Document"===e.kind&&Array.isArray(e.definitions)){let t=tb(this.transform(e));r.set(t,eD(e)),i.set(t,!1)}else e7(e)&&e.query&&n.add(e)}),this.obsQueries.forEach(r=>{let n=tb(this.transform(r.options.query));if("all"===e)return void t.add(r);let{queryName:s,options:{fetchPolicy:o}}=r;("active"!==e||"standby"!==o)&&("active"===e||s&&i.has(s)||n&&i.has(n))&&(t.add(r),s&&i.set(s,!0),n&&i.set(n,!0))}),n.size&&n.forEach(e=>{let r=new n5({queryManager:this,options:{...e,fetchPolicy:"network-only"}});t.add(r)}),t}refetchObservableQueries(e=!1){let t=[];return this.getObservableQueries(e?"all":"active").forEach(r=>{let{fetchPolicy:i}=r.options;(e||"standby"!==i)&&"cache-only"!==i&&t.push(r.refetch())}),this.broadcastQueries(),Promise.all(t)}startGraphQLSubscription(e){let t,{query:r,variables:i}=e,{fetchPolicy:n="cache-first",errorPolicy:s="none",context:o={},extensions:a={}}=e;return eY(r,p.SUBSCRIPTION),r=this.transform(r),i=this.getVariables(r,i),Object.assign((this.getDocumentInfo(r).hasClientExports?nV(this.localState.getExportedVariables({client:this.client,document:r,variables:i,context:o})):nz(i)).pipe(nP(e=>{let{observable:i,restart:l}=this.getObservableFromLink(r,o,e,n,a),u=new sn(this);return t=l,i.pipe(rf(t=>{u.markSubscriptionResult(t,{document:r,variables:e,errorPolicy:s,cacheWriteBehavior:2*("no-cache"!==n)});let i={data:t.data??void 0};if(nX(t))i.error=new nK(t);else"extensions"in t&&e4.is(t.extensions[e8])&&(i.error=t.extensions[e8],delete t.extensions[e8]);return t.extensions&&Object.keys(t.extensions).length&&(i.extensions=t.extensions),i.error&&"none"===s&&(i.data=void 0),"ignore"===s&&delete i.error,i}),nR(e=>"ignore"===s?nz({data:void 0}):nz({data:void 0,error:e})),nU(e=>!!(e.data||e.error)))})),{restart:()=>t?.()})}broadcastQueries(){this.onBroadcast&&this.onBroadcast(),this.obsQueries.forEach(e=>e.notify())}inFlightLinkObservables=new eM(!1);getObservableFromLink(e,t,r,i,n,s=t?.queryDeduplication??this.queryDeduplication){let o={},{serverQuery:a,clientQuery:l,operationType:u,hasIncrementalDirective:c}=this.getDocumentInfo(e),h=eD(e),d={client:this.client};if(a){let{inFlightLinkObservables:e,link:i}=this;try{let l=this.incrementalHandler.prepareRequest({query:a,variables:r,context:{...this.defaultContext,...t,queryDeduplication:s},extensions:n});function f(e){return new er(t=>{function r(){return e.subscribe({next:t.next.bind(t),complete:t.complete.bind(t),error:t.error.bind(t)})}let i=r();return o.restart||=()=>{i.unsubscribe(),i=r()},()=>{i.unsubscribe(),o.restart=void 0}})}if(t=l.context,s){var y;let t=tb(a),n=ri(r);(o=e.lookup(t,n)).observable||(o.observable=nI(i,l,d).pipe(f,(y=()=>{e.peek(t,n)===o&&e.remove(t,n)},ru(function(e,t){try{e.subscribe(t)}finally{t.add(y)}})),u===p.SUBSCRIPTION?rI():rD({refCount:!0})))}else o.observable=nI(i,l,d).pipe(f)}catch(e){o.observable=nA(()=>e)}}else o.observable=nz({data:{}});if(l){let{operation:n}=eJ(e);eS(!c,94,n[0].toUpperCase()+n.slice(1),h??"(anonymous)"),o.observable=o.observable.pipe(nP(e=>nV(this.localState.execute({client:this.client,document:l,remoteResult:e,context:t,variables:r,fetchPolicy:i}))))}return{restart:()=>o.restart?.(),observable:o.observable.pipe(nR(e=>{var t,r,i;throw i=e=null!==(r=t=e)&&"object"==typeof r&&"string"==typeof r.message&&"string"==typeof r.name&&("string"==typeof r.stack||void 0===r.stack)?t:"string"==typeof t?Error(t,{cause:t}):new e9(t),nG.add(i),e}))}}getResultsFromLink(e,{queryInfo:t,cacheWriteBehavior:r,observableQuery:i,exposeExtensions:n}){let s=t.lastRequestId=this.generateRequestId(),{errorPolicy:o}=e,a=this.cache.transformForLink(e.query);return this.getObservableFromLink(a,e.context,e.variables,e.fetchPolicy).observable.pipe(rf(s=>{let l=t.markQueryResult(s,{...e,document:a,cacheWriteBehavior:r}),u=nX(l);if(u&&"none"===o)throw t.resetLastWrite(),i?.resetNotifications(),new nK(sl(l));let c={data:l.data,...t.hasNext?{loading:!0,networkStatus:v.streaming,dataState:"streaming",partial:!0}:{dataState:l.data?"complete":"empty",loading:!1,networkStatus:v.ready,partial:!l.data}};return n&&"extensions"in l&&(c[iv]=l.extensions),u&&("none"===o&&(c.data=void 0,c.dataState="empty"),"ignore"!==o&&(c.error=new nK(sl(l)),"streaming"!==c.dataState&&(c.networkStatus=v.error))),c}),nR(e=>{if(s>=t.lastRequestId&&"none"===o)throw t.resetLastWrite(),i?.resetNotifications(),e;let r={data:void 0,dataState:"empty",loading:!1,networkStatus:v.ready,partial:!0};return"ignore"!==o&&(r.error=e,r.networkStatus=v.error),nz(r)}))}fetchObservableWithInfo(e,{networkStatus:t=v.loading,query:r=e.query,fetchQueryOperator:i=e=>e,onCacheHit:n=()=>{},observableQuery:s,exposeExtensions:o}){let a,l,u=this.getVariables(r,e.variables),c=this.defaultOptions.watchQuery,{fetchPolicy:h=c&&c.fetchPolicy||"cache-first",errorPolicy:d=c&&c.errorPolicy||"none",returnPartialData:f=!1,notifyOnNetworkStatusChange:p=!0,context:y={}}=e;this.prioritizeCacheValues&&("network-only"===h||"cache-and-network"===h)&&(h="cache-first");let m=Object.assign({},e,{query:r,variables:u,fetchPolicy:h,errorPolicy:d,returnPartialData:f,notifyOnNetworkStatusChange:p,context:y}),b=new sn(this,s),g=r=>{m.variables=r;let a="no-cache"===h?0:t===v.refetch&&"merge"!==m.refetchWritePolicy?1:2,l=this.fetchQueryByPolicy(m,{queryInfo:b,cacheWriteBehavior:a,onCacheHit:n,observableQuery:s,exposeExtensions:o});return l.observable=l.observable.pipe(i),"standby"!==m.fetchPolicy&&s?.applyNextFetchPolicy("after-fetch",e),l},w=()=>{this.fetchCancelFns.delete(b.id)};this.fetchCancelFns.set(b.id,e=>{E.next({kind:"E",error:e,source:"network"})});let E=new ry;if(this.getDocumentInfo(m.query).hasClientExports)a=nV(this.localState.getExportedVariables({client:this.client,document:m.query,variables:m.variables,context:m.context})).pipe(nP(e=>g(e).observable)),l=!0;else{let e=g(m.variables);l=e.fromLink,a=e.observable}return{observable:new er(e=>{e.add(w),a.subscribe(e),E.subscribe(e)}).pipe(rI()),fromLink:l}}refetchQueries({updateCache:e,include:t,optimistic:r=!1,removeOptimistic:i=r?ev("refetchQueries"):void 0,onQueryUpdated:n}){let s=new Map;t&&this.getObservableQueries(t).forEach(e=>{if("cache-only"===e.options.fetchPolicy||e.variablesUnknown)return;let t=e.getCurrentResult();s.set(e,{oq:e,lastDiff:{result:t?.data,complete:!t?.partial}})});let o=new Map;if(e){let t=new Set;this.cache.batch({update:e,optimistic:r&&i||!1,removeOptimistic:i,onWatchUpdated(e,r,i){let a=e.watcher;if(a instanceof n5&&!t.has(a)){if(t.add(a),n){s.delete(a);let e=n(a,r,i);return!0===e&&(e=a.refetch().retain()),!1!==e&&o.set(a,e),e}null!==n&&"cache-only"!==a.options.fetchPolicy&&s.set(a,{oq:a,lastDiff:i,diff:r})}}})}return s.size&&s.forEach(({oq:e,lastDiff:t,diff:r})=>{let i;n&&(r||(r=e.getCacheDiff()),i=n(e,r,t)),n&&!0!==i||(i=e.refetch().retain()),!1!==i&&o.set(e,i)}),i&&this.cache.removeOptimistic(i),o}noCacheWarningsByCause=new WeakSet;maskOperation(e){var t;let r,{document:i,data:n}=e;return this.dataMasking?(t=this.cache,(eS(r=eJ(i),43),null==n)?n:nY(n,r.selectionSet,{operationType:r.operation,operationName:r.name?.value,fragmentMap:rL(rq(i)),cache:t,mutableTargets:new WeakMap,knownChanged:new WeakSet})):n}maskFragment(e){var t,r;let i,n,{data:s,fragment:o,fragmentName:a}=e;return this.dataMasking?(t=this.cache,r=a,i=o.definitions.filter(e=>e.kind===f.FRAGMENT_DEFINITION),void 0===r&&(eS(1===i.length,41,i.length),r=i[0].name.value),(eS(!!(n=i.find(e=>e.name.value===r)),42,r),null==s||tN(s,{}))?s:nY(s,n.selectionSet,{operationType:"fragment",operationName:n.name.value,fragmentMap:rL(rq(o)),cache:t,mutableTargets:new WeakMap,knownChanged:new WeakSet})):s}fetchQueryByPolicy({query:e,variables:t,fetchPolicy:r,errorPolicy:i,returnPartialData:n,context:s},{cacheWriteBehavior:o,onCacheHit:a,queryInfo:l,observableQuery:u,exposeExtensions:c}){let h=()=>this.cache.diff({query:e,variables:t,returnPartialData:!0,optimistic:!0}),d=(o,l)=>{let u=o.result,c=e=>(o.complete||n||(e=void 0),{data:e,dataState:o.complete?"complete":e?"partial":"empty",loading:!nJ(l),networkStatus:l,partial:!o.complete}),h=e=>nz({kind:"N",value:c(e),source:"cache"});return(o.complete||n)&&this.getDocumentInfo(e).hasForcedResolvers?(a(),nV(this.localState.execute({client:this.client,document:e,remoteResult:u?{data:u}:void 0,context:s,variables:t,onlyRunForcedResolvers:!0,returnPartialData:!0,fetchPolicy:r}).then(e=>({kind:"N",value:c(e.data||void 0),source:"cache"})))):h("none"===i&&l===v.refetch&&o.missing?void 0:u||void 0)},f=()=>this.getResultsFromLink({query:e,variables:t,context:s,fetchPolicy:r,errorPolicy:i},{cacheWriteBehavior:o,queryInfo:l,observableQuery:u,exposeExtensions:c}).pipe(sa(),ru(function(e,t){e.subscribe(rc(t,function(e){t.next(nW.createNext(e))},function(){t.next(nW.createComplete()),t.complete()},function(e){t.next(nW.createError(e)),t.complete()}))}),rf(e=>({...e,source:"network"})));switch(r){default:case"cache-first":{let e=h();if(e.complete)return{fromLink:!1,observable:d(e,v.ready)};if(n)return{fromLink:!0,observable:nQ(d(e,v.loading),f())};return{fromLink:!0,observable:f()}}case"cache-and-network":{let e=h();if(e.complete||n)return{fromLink:!0,observable:nQ(d(e,v.loading),f())};return{fromLink:!0,observable:f()}}case"cache-only":return{fromLink:!1,observable:nQ(d(h(),v.ready))};case"network-only":case"no-cache":return{fromLink:!0,observable:f()};case"standby":return{fromLink:!1,observable:en}}}}function sa(){let e=!1;return rA({next(){e=!0},complete(){eS(e,98)}})}function sl(e){if(e.extensions?.[ig]==null)return e;let{extensions:{[ig]:t,...r},...i}=e;return Object.keys(r).length>0&&(i.extensions=r),i}class su{link;cache;disableNetworkFetches;set prioritizeCacheValues(e){this.queryManager.prioritizeCacheValues=e}get prioritizeCacheValues(){return this.queryManager.prioritizeCacheValues}version;queryDeduplication;defaultOptions;devtoolsConfig;queryManager;devToolsHookCb;resetStoreCallbacks=[];clearStoreCallbacks=[];constructor(e){const{cache:t,documentTransform:r,ssrMode:i=!1,ssrForceFetchDelay:n=0,queryDeduplication:s=!0,defaultOptions:o,defaultContext:a,assumeImmutableResults:l=t.assumeImmutableResults,localState:u,devtools:c,dataMasking:h,link:d,incrementalHandler:f=new nN,experiments:p=[]}=e;this.link=d,this.cache=t,this.queryDeduplication=s,this.defaultOptions=o||{},this.devtoolsConfig={...c,enabled:c?.enabled??!1},this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.refetchObservableQueries=this.refetchObservableQueries.bind(this),this.version=em,this.queryManager=new so({client:this,defaultOptions:this.defaultOptions,defaultContext:a,documentTransform:r,queryDeduplication:s,ssrMode:i,dataMasking:!!h,clientOptions:e,incrementalHandler:f,assumeImmutableResults:l,onBroadcast:this.devtoolsConfig.enabled?()=>{this.devToolsHookCb&&this.devToolsHookCb()}:void 0,localState:u}),this.prioritizeCacheValues=i||n>0,n&&setTimeout(()=>{this.prioritizeCacheValues=!1},n),this.devtoolsConfig.enabled&&this.connectToDevTools(),p.forEach(t=>t.call(this,e))}connectToDevTools(){if("u"<typeof window)return;let e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this}get documentTransform(){return this.queryManager.documentTransform}get localState(){return this.queryManager.localState}set localState(e){this.queryManager.localState=e}stop(){this.queryManager.stop()}watchQuery(e){return this.defaultOptions.watchQuery&&(e=nC(this.defaultOptions.watchQuery,e)),this.queryManager.watchQuery(e)}query(e){return this.defaultOptions.query&&(e=nC(this.defaultOptions.query,e)),this.queryManager.query(e)}mutate(e){let t=nC(eX({fetchPolicy:"network-only",errorPolicy:"none"},this.defaultOptions.mutate),e);return eY(t.mutation,p.MUTATION),this.queryManager.mutate(t)}subscribe(e){let t={},r=this.queryManager.startGraphQLSubscription(e);return Object.assign(r.pipe(rf(r=>({...r,data:this.queryManager.maskOperation({document:e.query,data:r.data,fetchPolicy:e.fetchPolicy,cause:t})}))),{restart:r.restart})}readQuery(e,t=!1){return this.cache.readQuery({...e,query:this.transform(e.query)},t)}watchFragment(e){let t=this.queryManager.dataMasking;return this.cache.watchFragment({...e,fragment:this.transform(e.fragment,t)})}readFragment(e,t=!1){return this.cache.readFragment({...e,fragment:this.transform(e.fragment)},t)}writeQuery(e){let t=this.cache.writeQuery(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t}writeFragment(e){let t=this.cache.writeFragment(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t}__actionHookForDevTools(e){this.devToolsHookCb=e}__requestRaw(e){return nI(this.link,e,{client:this})}resetStore(){return Promise.resolve().then(()=>this.queryManager.clearStore({discardWatches:!1})).then(()=>Promise.all(this.resetStoreCallbacks.map(e=>e()))).then(()=>this.refetchObservableQueries())}clearStore(){return Promise.resolve().then(()=>this.queryManager.clearStore({discardWatches:!0})).then(()=>Promise.all(this.clearStoreCallbacks.map(e=>e())))}onResetStore(e){return this.resetStoreCallbacks.push(e),()=>{this.resetStoreCallbacks=this.resetStoreCallbacks.filter(t=>t!==e)}}onClearStore(e){return this.clearStoreCallbacks.push(e),()=>{this.clearStoreCallbacks=this.clearStoreCallbacks.filter(t=>t!==e)}}reFetchObservableQueries;refetchObservableQueries(e){return this.queryManager.refetchObservableQueries(e)}refetchQueries(e){let t=this.queryManager.refetchQueries(e),r=[],i=[];t.forEach((e,t)=>{r.push(t),i.push(e)});let n=Promise.all(i);return n.queries=r,n.results=i,n.catch(e=>{}),n}getObservableQueries(e="active"){return this.queryManager.getObservableQueries(e)}extract(e){return this.cache.extract(e)}restore(e){return this.cache.restore(e)}setLink(e){this.link=e}get defaultContext(){return this.queryManager.defaultContext}maskedFragmentTransform=new ra(nD);transform(e,t=!1){let r=this.queryManager.transform(e);return t?this.maskedFragmentTransform.transformDocument(r):r}}var sc=e.i(71645);function sh(e){let t=Promise.resolve(e);return t.status="fulfilled",t.value=e,t}function sd(e){return"status"in e||(e.status="pending",e.then(t=>{"pending"===e.status&&(e.status="fulfilled",e.value=t)},t=>{"pending"===e.status&&(e.status="rejected",e.reason=t)})),e}e.s(["createFulfilledPromise",()=>sh],46379),e.s(["decoratePromise",()=>sd],25097);let sf=Symbol.for("apollo.internal.queryRef"),sp=Symbol.for("apollo.internal.refPromise");function sy(e){return{[sf]:e,[sp]:e.promise}}function sm(e){return e[sf]}let sb=["context","errorPolicy","fetchPolicy","refetchWritePolicy","returnPartialData"];class sv{result;key={};observable;promise;queue;subscription;listeners=new Set;autoDisposeTimeoutId;resolve;reject;references=0;softReferences=0;constructor(e,t){this.handleNext=this.handleNext.bind(this),this.dispose=this.dispose.bind(this),this.observable=e,t.onDispose&&(this.onDispose=t.onDispose),this.setResult(),this.subscribeToQuery();const r=()=>{this.references||(this.autoDisposeTimeoutId=setTimeout(this.dispose,t.autoDisposeTimeoutMs??3e4))};this.promise.then(r,r)}get disposed(){return this.subscription.closed}get watchQueryOptions(){return this.observable.options}reinitialize(){let{observable:e}=this,t=this.watchQueryOptions.fetchPolicy,r="no-cache"===t||"standby"===t;try{r?e.applyOptions({fetchPolicy:"standby"}):(e.reset(),e.applyOptions({fetchPolicy:"cache-first"})),r||this.setResult(),this.subscribeToQuery()}finally{e.applyOptions({fetchPolicy:t})}}retain(){this.references++,clearTimeout(this.autoDisposeTimeoutId);let e=!1;return()=>{e||(e=!0,this.references--,setTimeout(()=>{this.references||this.dispose()}))}}softRetain(){this.softReferences++;let e=!1;return()=>{e||(e=!0,this.softReferences--,setTimeout(()=>{this.softReferences||this.references||this.dispose()}))}}didChangeOptions(e){return sb.some(t=>t in e&&!tN(this.watchQueryOptions[t],e[t]))}applyOptions(e){let{fetchPolicy:t}=this.watchQueryOptions;return"standby"===t&&t!==e.fetchPolicy?this.initiateFetch(this.observable.reobserve(e)):this.observable.applyOptions(e),this.promise}listen(e){return this.listeners.add(e),this.queue&&(this.deliver(this.queue),this.queue=void 0),()=>{this.listeners.delete(e)}}refetch(e){return this.initiateFetch(this.observable.refetch(e))}fetchMore(e){return this.initiateFetch(this.observable.fetchMore(e))}dispose(){this.subscription.unsubscribe()}onDispose(){}handleNext(e){if("pending"===this.promise.status)void 0===e.data&&(e.data=this.result.data,e.data&&(e.dataState="complete")),this.shouldReject(e)?this.reject?.(e.error):(this.result=e,this.resolve?.(e));else{if(e.data===this.result.data&&e.networkStatus===this.result.networkStatus)return;if(void 0===e.data&&(e.data=this.result.data),this.shouldReject(e)){var t;let r;this.promise=((r=Promise.reject(t=e.error)).catch(()=>{}),r.status="rejected",r.reason=t,r),this.deliver(this.promise)}else this.result=e,this.promise=sh(e),this.deliver(this.promise)}}deliver(e){0===this.listeners.size&&(this.queue=e),this.listeners.forEach(t=>t(e))}initiateFetch(e){return this.promise=this.createPendingPromise(),this.promise.catch(()=>{}),e.then(()=>{setTimeout(()=>{"pending"===this.promise.status&&(this.result=this.observable.getCurrentResult(),this.resolve?.(this.result))})}).catch(e=>this.reject?.(e)),e}subscribeToQuery(){this.subscription=this.observable.pipe(nU(e=>!tN(e,this.result))).subscribe(this.handleNext),this.subscription.add(this.onDispose)}setResult(){let e=this.observable.getCurrentResult();tN(e,this.result)||(this.result=e,this.promise=e.data?sh(e):this.createPendingPromise())}shouldReject(e){let{errorPolicy:t="none"}=this.watchQueryOptions;return e.error&&"none"===t}createPendingPromise(){return sd(new Promise((e,t)=>{this.resolve=e,this.reject=t}))}}e.s(["InternalQueryReference",()=>sv,"unwrapQueryRef",()=>sm,"wrapQueryRef",()=>sy],27490);let sg=Symbol.for("__APOLLO_CONTEXT__");function sw(){eS("createContext"in sc,37);let e=sc.createContext[sg];return e||(Object.defineProperty(sc.createContext,sg,{value:e=sc.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}function sE(e){let t=sc.useContext(sw()),r=e||t.client;return eS(!!r,28),r}e.s(["getApolloContext",()=>sw],18247),e.s(["useApolloClient",()=>sE],76320);let sk=({client:e,children:t})=>{let r=sw(),i=sc.useContext(r),n=sc.useMemo(()=>({...i,client:e||i.client}),[i,e]);return eS(n.client,38),sc.createElement(r.Provider,{value:n},t)};TransformStream;var sS=class extends TransformStream{constructor(){super({transform(e,t){"string"!=typeof e&&(e=new TextDecoder().decode(e)),t.enqueue(JSON.parse(e))}})}},sO={pkg:"@apollo/client-react-streaming"},sT=Symbol.for("apollo.source_package"),sx=class extends i6{static info=sO;[sT];constructor(e){super(e);const t=this.constructor.info;this[sT]=`${t.pkg}:InMemoryCache`}},s_=(0,sc.createContext)(null),sN={},sI=Symbol.for("apollo.tee.readableStreamController"),sC=Symbol.for("apollo.read.readableStream");function sD(e,t){return Object.assign(t,{[sC]:e})}var sA=class extends eH{constructor(){super((e,t)=>{let r=e.getContext()[sI];if(r){let i=r(),n=()=>{try{i.close()}catch{}};return new er(r=>{let s=!0;return t(e).subscribe({next(e){i.enqueue({type:"next",value:e}),s&&r.next(e)},error(e){i.enqueue({type:"error"}),n(),s&&r.error(e)},complete(){i.enqueue({type:"completed"}),n(),s&&r.complete()}}),()=>{s=!1}})}return t(e)})}},sR=class extends eH{constructor(){super((e,t)=>{let r=e.getContext()[sC];return r?new er(i=>{let n=!1,s=(()=>{try{return r.getReader()}catch{}})();if(!s){let r=t(e).subscribe(i);return()=>r.unsubscribe()}let o=!1;l(s).finally(()=>{i.closed||o||i.complete()});let a=()=>{n=!0,s.cancel()};return()=>a();async function l(r){let s;for(;!n&&!s?.done&&(s=await r.read(),!n);)if(s.value)switch(s.value.type){case"next":i.next(s.value.value);break;case"completed":i.complete();break;case"error":{a(),o=!0;let r=t(e).subscribe(i);a=()=>r.unsubscribe()}}}}):t(e)})}};function sF(e){return{...e,query:nx(tb(nx(e.query)))}}function sP(e){let t=sE(),r=!!(e&&e.$__apollo_queryRef);r&&function(e,t){var r,i,n;let s,o,a;if(e[sf])return;let{$__apollo_queryRef:{options:l,stream:u}}=e,c=sF(l);Object.assign(e,sy((r=t,i=c,n={...c,fetchPolicy:"network-only",context:sz(sD(u.pipeThrough(new sS),{...c.context,queryDeduplication:!0}))},o={context:{},...(s=r.watchQuery(i)).options},s.applyOptions(n),a=new sv(s,{autoDisposeTimeoutMs:r.defaultOptions.react?.suspense?.autoDisposeTimeoutMs}),s.applyOptions({...o,fetchPolicy:s.options.fetchPolicy===n.fetchPolicy?o.fetchPolicy:s.options.fetchPolicy}),a)))}(e,t);let i=e[sf];return(0,sc.useEffect)(()=>{if(r)return i.softRetain()},[r,i]),e}var sM={useFragment:e=>sj(e,["data","complete","missing","dataState"]),useQuery:e=>sj(e,["data","loading","networkStatus","dataState"]),useSuspenseQuery:e=>sj(e,["data","networkStatus","dataState"]),useReadQuery:e=>sj(t=>e(sP(t)),["data","networkStatus","dataState"]),useQueryRefHandlers:e=>sj(t=>e(sP(t)),[]),useSuspenseFragment:e=>sj(e,["data"])};function sj(e,t){return(...r)=>{let i=e(...r);if(0==t.length)return i;let n=function(e){let t=(0,sc.useContext)(s_);if(!t)throw Error("useTransportValue must be used within a streaming-specific ApolloProvider");let r=t.useStaticValueRef(e),i=(0,sc.useSyncExternalStore)(()=>()=>{},()=>0,()=>r.current===sN?0:+!tN(e,r.current));return 0===i&&(r.current=sN),1===i?r.current:e}((0,sc.useMemo)(()=>{let e={};for(let r of t)e[r]=i[r];return e},[i]));return(0,sc.useMemo)(()=>({...i,...n}),[i,n])}}function sL(e,t,r){if(e[sT]!==`${t.pkg}:${r}`)throw Error(`When using \`${r}\` in streaming SSR, you must use the \`${r}\` export provided by \`"${t.pkg}"\`.`)}function sq(e){return e.queryManager}var sV=Symbol.for("apollo.hook.wrappers"),sQ=class extends su{static info=sO;[sT];constructor(e){const t=[];"ssrMode"in e&&(delete e.ssrMode,t.push("The `ssrMode` option is not supported in %s. Please remove it from your %s constructor options.")),"ssrForceFetchDelay"in e&&(delete e.ssrForceFetchDelay,t.push("The `ssrForceFetchDelay` option is not supported in %s. Please remove it from your %s constructor options.")),super(e);const r=this.constructor.info;for(const e of(this[sT]=`${r.pkg}:ApolloClient`,t))console.warn(e,r.pkg,"ApolloClient");sL(this.cache,r,"InMemoryCache"),this.setLink(this.link)}setLink(e){super.setLink.call(this,eH.from([new sR,new sA,e]))}},sU=class extends sQ{constructor(e){super(e),this.onQueryStarted=this.onQueryStarted.bind(this),sq(this)[sV]=sM}simulatedStreamingQueries=new Map;onQueryStarted({options:e,id:t}){let r,i,n=sF(e),[s,o]=(i=new ReadableStream({start(e){r=e}}),[r,i]),a=sq(this);a.fetchQuery({...n,query:a.transform(n.query),fetchPolicy:"network-only",context:sz(sD(o,{...n.context,queryDeduplication:!0}))}),this.simulatedStreamingQueries.set(t,{controller:s,options:n})}onQueryProgress=e=>{let t=this.simulatedStreamingQueries.get(e.id);if(!t)return;let r=sq(this).incrementalHandler;"error"===e.type||"next"===e.type&&(r.isIncrementalResult(e.value)?r.extractErrors(e.value):e.value.errors)?(this.simulatedStreamingQueries.delete(e.id),eS.debug("Query failed on server, rerunning in browser:",t.options),this.rerunSimulatedQuery(t)):"completed"===e.type?(this.simulatedStreamingQueries.delete(e.id),t.controller.enqueue(e)):"next"===e.type&&t.controller.enqueue(e)};rerunSimulatedQueries=()=>{for(let[e,t]of this.simulatedStreamingQueries)this.simulatedStreamingQueries.delete(e),eS.debug("streaming connection closed before server query could be fully transported, rerunning:",t.options),this.rerunSimulatedQuery(t)};rerunSimulatedQuery=e=>{var t;let r=sq(this);r.fetchQuery({...e.options,fetchPolicy:"no-cache",query:r.transform(e.options.query),context:sz((t=()=>e.controller,Object.assign({...e.options.context,queryDeduplication:!1},{[sI]:t})))})}},sB=Symbol.for("apollo.dataTransport.skip");function sz(e){return Object.assign(e,{[sB]:!0})}var sW=class extends sU{},s$=class extends sW{},sK=Symbol.for("ApolloClientSingleton"),sG=Symbol.for("ApolloSSRDataTransport"),sY=Symbol.for("apollo.hookRehydrationCache");function sJ(e){return e}var sH={},sX=e.i(18566),sZ={pkg:"@apollo/client-integration-nextjs",client:"ApolloClient",cache:"InMemoryCache"},s0=class extends s${static info=sZ},s1=class extends sx{static info=sZ},s2=(d=(({reviveFromStream:e=sJ})=>function({children:t,onQueryEvent:r,rerunSimulatedQueries:i}){let n=(0,sc.useRef)(window[sY]??={});!function({onQueryEvent:e,onRehydrate:t,revive:r}){var i;let n;i=i=>{let n=r(i);for(let r of(eS.debug("received data from the server:",n),t(n.rehydrate),n.events))e(r)},Array.isArray(n=window[sG]||[])&&(window[sG]={push:(...e)=>{for(let t of e)i(t)}},window[sG].push(...n))}({onQueryEvent:r,onRehydrate(e){Object.assign(n.current,e)},revive:e}),(0,sc.useEffect)(()=>{if("complete"!==document.readyState)return window.addEventListener("load",i,{once:!0}),()=>window.removeEventListener("load",i);i()},[i]);let s=(0,sc.useCallback)(function(e){let t=(0,sc.useId)(),r=n.current,i=(0,sc.useRef)(sH);return i.current===sH&&(r&&t in r?(i.current=r[t],delete r[t]):i.current=e),i},[]);return sc.default.createElement(s_.Provider,{value:(0,sc.useMemo)(()=>({useStaticValueRef:s}),[s])},t)})({useInsertHtml(){let e=(0,sc.useContext)(sX.ServerInsertedHTMLContext);return e||(()=>{})}}),(n=({makeClient:e,children:t,...r})=>{let i=(0,sc.useRef)(void 0);return i.current||(i.current=window[sK]??=e(),sL(i.current,n.info,"ApolloClient")),sc.default.createElement(sk,{client:i.current},sc.default.createElement(d,{onQueryEvent:e=>"started"===e.type?i.current.onQueryStarted(e):i.current.onQueryProgress(e),rerunSimulatedQueries:i.current.rerunSimulatedQueries,registerDispatchRequestStarted:i.current.watchQueryQueue?.register,...r},t))}).info=sO,n);s2.info=sZ;var s3=function(){delete window[sK],delete window[sY],delete window[sG]};function s4(){let e=new tS({uri:g.default.env.NEXT_PUBLIC_SERVER_URL||"http://localhost:4000/graphql",fetchOptions:{cache:"no-store"}});return new s0({cache:new s1,link:e})}function s9(e){let t,r=(0,E.c)(2),{children:i}=e;return r[0]!==i?(t=(0,w.jsx)(s2,{makeClient:s4,children:i}),r[0]=i,r[1]=t):t=r[1],t}e.s(["ApolloClient",()=>s0,"ApolloNextAppProvider",()=>s2,"InMemoryCache",()=>s1,"built_for_browser",()=>!0,"resetApolloClientSingletons",()=>s3],27454),e.i(27454),e.s(["ApolloWrapper",()=>s9],55840)}]);