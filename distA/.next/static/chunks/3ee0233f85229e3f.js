(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,28016,e=>{"use strict";var t=e.i(71645),r=e.i(7799),s=e.i(40059),n=e.i(69981),i=e.i(46379),o=e.i(25097);class a{observable;key={};promise;resolve;reject;subscription;listeners=new Set;autoDisposeTimeoutId;references=0;constructor(e,t,r){this.dispose=this.dispose.bind(this),this.handleNext=this.handleNext.bind(this),this.handleError=this.handleError.bind(this),this.observable=e.watchFragment(t),r.onDispose&&(this.onDispose=r.onDispose);const s=this.observable.getCurrentResult(),n=()=>{this.references||(this.autoDisposeTimeoutId=setTimeout(this.dispose,r.autoDisposeTimeoutMs??3e4))};this.promise=s.complete?(0,i.createFulfilledPromise)(s.data):this.createPendingPromise(),this.subscribeToFragment(),this.promise.then(n,n)}listen(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}retain(){this.references++,clearTimeout(this.autoDisposeTimeoutId);let e=!1;return()=>{e||(e=!0,this.references--,setTimeout(()=>{this.references||this.dispose()}))}}dispose(){this.subscription.unsubscribe()}onDispose(){}subscribeToFragment(){this.subscription=this.observable.subscribe(this.handleNext.bind(this),this.handleError.bind(this)),this.subscription.add(this.onDispose)}handleNext(e){switch(this.promise.status){case"pending":if(e.complete)return this.resolve?.(e.data);this.deliver(this.promise);break;case"fulfilled":if((0,n.equal)(this.promise.value,e.data))return;this.promise=e.complete?(0,i.createFulfilledPromise)(e.data):this.createPendingPromise(),this.deliver(this.promise)}}handleError(e){this.reject?.(e)}deliver(e){this.listeners.forEach(t=>t(e))}createPendingPromise(){return(0,o.decoratePromise)(new Promise((e,t)=>{this.resolve=e,this.reject=t}))}}var l=e.i(27490);class c{queryRefs=new s.Trie;fragmentRefs=new s.Trie;options;constructor(e={}){this.options=e}getQueryRef(e,t){let r=this.queryRefs.lookupArray(e);return r.current||(r.current=new l.InternalQueryReference(t(),{autoDisposeTimeoutMs:this.options.autoDisposeTimeoutMs,onDispose:()=>{delete r.current}})),r.current}getFragmentRef(e,t,r){let s=this.fragmentRefs.lookupArray(e);return s.current||(s.current=new a(t,r,{autoDisposeTimeoutMs:this.options.autoDisposeTimeoutMs,onDispose:()=>{delete s.current}})),s.current}add(e,t){this.queryRefs.lookupArray(e).current=t}}let u=Symbol.for("apollo.suspenseCache");var d=e.i(785),p=e.i(27692);let h=Symbol.for("apollo.skipToken"),f=t.use||function(e){let t=(0,o.decoratePromise)(e);switch(t.status){case"pending":throw t;case"rejected":throw t.reason;case"fulfilled":return t.value}};var b=e.i(95426);let m=Symbol.for("apollo.hook.wrappers");var y=e.i(18247),x=e.i(10614),g=e.i(76320);function v(e,r){return(function(e,r,s){let n=[s.queryManager,e.startsWith("use")?t.useContext((0,y.getApolloContext)()):void 0],i=r;for(let t of n){let r=t?.[m]?.[e];r&&(i=r(i))}return i})("useSuspenseQuery",j,(0,g.useApolloClient)("object"==typeof r?r.client:void 0))(e,r??{})}function j(e,s){let i=(0,g.useApolloClient)(s.client),o=(i[u]||(i[u]=new c(i.defaultOptions.react?.suspense)),i[u]),a=function({client:e,query:r,options:s}){var i,o;let a;return i=()=>{if(s===h)return{query:r,fetchPolicy:"standby",[p.variablesUnknownSymbol]:!0};let t=s.fetchPolicy||e.defaultOptions.watchQuery?.fetchPolicy||"cache-first",n={...s,fetchPolicy:t,query:r,notifyOnNetworkStatusChange:!1,nextFetchPolicy:void 0};return d.__DEV__&&function(e){var t,r;let{fetchPolicy:s,returnPartialData:n}=e;(function(e="cache-first"){(0,x.invariant)(["cache-first","network-only","no-cache","cache-and-network"].includes(e),35,e)})(s),t=s,r=n,"no-cache"===t&&r&&d.__DEV__&&x.invariant.warn(36)}(n),s.skip&&(n.fetchPolicy="standby"),n},o=[e,s,r],(a=t.useRef(void 0)).current&&(0,n.equal)(a.current.deps,o)||(a.current={value:i(),deps:o}),a.current.value}({client:i,query:e,options:s}),{fetchPolicy:l}=a,m=function(e,r){let{queryKey:s=[],variables:n}=r,i=(0,b.canonicalStringify)(n),[o,a]=t.useState(i);return r!==h&&o!==i&&a(o=i),[e,o,...[].concat(s)]}(e,s),y=o.getQueryRef(m,()=>i.watchQuery(a)),[v,j]=t.useState([y.key,y.promise]);v[0]!==y.key&&(v[0]=y.key,v[1]=y.promise);let w=v[1];y.didChangeOptions(a)&&(v[1]=w=y.applyOptions(a)),t.useEffect(()=>{let e=y.retain(),t=y.listen(e=>{j([y.key,e])});return()=>{t(),e()}},[y]);let k=t.useMemo(()=>{let e=y.result.error,t=!!y.result.data;return{loading:!1,data:y.result.data,dataState:y.result.dataState,networkStatus:e?r.NetworkStatus.error:r.NetworkStatus.ready,error:e,complete:t,partial:!t}},[y.result]),S="standby"===l?k:f(w),P=t.useCallback(e=>{let t=y.fetchMore(e);return j([y.key,y.promise]),t},[y]),N=t.useCallback(e=>{let t=y.refetch(e);return j([y.key,y.promise]),t},[y]),_=y.observable.subscribeToMore;return t.useMemo(()=>({client:i,data:S.data,dataState:S.dataState,error:S.error,networkStatus:S.networkStatus,fetchMore:P,refetch:N,subscribeToMore:_}),[i,P,N,S,_])}e.s(["useSuspenseQuery",()=>v],28016)},67585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let s=e.r(32061);function n({reason:e,children:t}){if("u"<typeof window)throw Object.defineProperty(new s.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,r)=>{"use strict";function s(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return s}})},52157,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return l}});let s=e.r(43476),n=e.r(74080),i=e.r(63599),o=e.r(9885),a=e.r(43369);function l({moduleIds:e}){if("u">typeof window)return null;let t=i.workAsyncStorage.getStore();if(void 0===t)return null;let r=[];if(t.reactLoadableManifest&&e){let s=t.reactLoadableManifest;for(let t of e){if(!s[t])continue;let e=s[t].files;r.push(...e)}}if(0===r.length)return null;let l=(0,a.getDeploymentIdQueryOrEmptyString)();return(0,s.jsx)(s.Fragment,{children:r.map(e=>{let r=`${t.assetPrefix}/_next/${(0,o.encodeURIPath)(e)}${l}`;return e.endsWith(".css")?(0,s.jsx)("link",{precedence:"dynamic",href:r,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,n.preload)(r,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return c}});let s=e.r(43476),n=e.r(71645),i=e.r(67585),o=e.r(52157);function a(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(a(()=>null)),loading:null,ssr:!0},c=function(e){let t={...l,...e},r=(0,n.lazy)(()=>t.loader().then(a)),c=t.loading;function u(e){let a=c?(0,s.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,l=!t.ssr||!!t.loading,u=l?n.Suspense:n.Fragment,d=t.ssr?(0,s.jsxs)(s.Fragment,{children:["u"<typeof window?(0,s.jsx)(o.PreloadChunks,{moduleIds:t.modules}):null,(0,s.jsx)(r,{...e})]}):(0,s.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(r,{...e})});return(0,s.jsx)(u,{...l?{fallback:a}:{},children:d})}return u.displayName="LoadableComponent",u}},70703,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n}});let s=e.r(63141)._(e.r(69093));function n(e,t){let r={};"function"==typeof e&&(r.loader=e);let n={...r,...t};return(0,s.default)({...n,modules:n.loadableGenerated?.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},38063,e=>{"use strict";var t=e.i(43476),r=e.i(932),s=e.i(71645),n=e.i(55840),i=e.i(2807),o=e.i(14089),a=e.i(53145),l=e.i(70703),c=e.i(18566),u=e.i(46932);let d=(0,l.default)(()=>e.A(11043),{loadableGenerated:{modules:[30122]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"h-[400px] w-full bg-brand-gray animate-pulse"})}),p=i.gql`
  mutation savePost($post_id: Int, $author: String!, $title: String!, $content: String!) {
    savePost(post_id: $post_id, author: $author, title: $title, content: $content) {
      id
      title
      content
      author
    }
  }
`;function h({initialData:e}){let r=(0,c.useRouter)(),[s,{loading:n}]=(0,o.useMutation)(p),{register:i,handleSubmit:l,control:h,setValue:f,formState:{errors:b}}=(0,a.useForm)({defaultValues:{title:e?.title||"",author:e?.author||"",content:e?.content||""}}),m=async t=>{try{let{data:n}=await s({variables:{post_id:e?.id||null,title:t.title,author:t.author,content:t.content}});n?.savePost&&(alert("성공적으로 저장되었습니다."),r.push(`/review/view?pageNo=1&id=${n.savePost.id}`),r.refresh())}catch(e){console.error(e),alert("저장 중 오류가 발생했습니다.")}};return(0,t.jsxs)(u.motion.form,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onSubmit:l(m),className:"space-y-8 bg-white p-8 md:p-12 border border-gray-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,t.jsxs)("div",{className:"md:col-span-3 space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black uppercase tracking-widest text-brand-blue",children:"제목"}),(0,t.jsx)("input",{...i("title",{required:!0}),placeholder:"제목을 입력하세요",className:`w-full px-4 py-3 border-b-2 font-bold text-lg outline-none transition-all ${b.title?"border-red-500":"border-brand-gray focus:border-brand-yellow"}`}),b.title&&(0,t.jsx)("p",{className:"text-red-500 text-[10px] font-bold",children:"제목은 필수입니다."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black uppercase tracking-widest text-brand-blue",children:"작성자"}),(0,t.jsx)("input",{...i("author",{required:!0}),placeholder:"작성자",className:`w-full px-4 py-3 border-b-2 font-bold text-lg outline-none transition-all ${b.author?"border-red-500":"border-brand-gray focus:border-brand-yellow"}`}),b.author&&(0,t.jsx)("p",{className:"text-red-500 text-[10px] font-bold",children:"작성자는 필수입니다."})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black uppercase tracking-widest text-brand-blue",children:"내용"}),(0,t.jsx)("div",{className:"border border-brand-gray",children:(0,t.jsx)(a.Controller,{name:"content",control:h,rules:{required:!0},render:({field:e})=>(0,t.jsx)(d,{setContents:e.value,onChange:e.onChange,setOptions:{height:"500",buttonList:[["undo","redo"],["font","fontSize","formatBlock"],["paragraphStyle","blockquote"],["bold","underline","italic","strike","subscript","superscript"],["fontColor","hiliteColor","textStyle"],["removeFormat"],["outdent","indent"],["align","horizontalRule","list","lineHeight"],["table","link","image","video","audio"],["fullScreen","showBlocks","codeView"],["preview","print"]],stickyToolbar:"0"}})})}),b.content&&(0,t.jsx)("p",{className:"text-red-500 text-[10px] font-bold",children:"내용을 입력해주세요."})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-4 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>r.back(),className:"px-8 py-3 text-sm font-black uppercase tracking-widest text-gray-400 hover:text-brand-blue transition-colors",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:n,className:"px-12 py-3 bg-brand-yellow text-brand-black font-black uppercase tracking-widest hover:bg-brand-blue hover:text-white transition-all disabled:opacity-50",children:n?"Saving...":"Save Post"})]})]})}var f=e.i(28016);let b=i.gql`
  query post($id: Int!) {
    post(id: $id) {
      id
      title
      content
      author
    }
  }
`;function m(e){let s,n,i=(0,r.c)(4),{id:o}=e;i[0]!==o?(s={variables:{id:o}},i[0]=o,i[1]=s):s=i[1];let{data:a}=(0,f.useSuspenseQuery)(b,s);return i[2]!==a.post?(n=(0,t.jsx)(h,{initialData:a.post}),i[2]=a.post,i[3]=n):n=i[3],n}function y(e){let i,o,a,l,c,d,p,f=(0,r.c)(13),{searchParams:b}=e,{id:y,p:x}=(0,s.use)(b);if("iu"!==x){let e;return f[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-brand-gray",children:(0,t.jsx)("h2",{className:"text-2xl font-black text-red-500 uppercase tracking-tighter",children:"Unauthorized Access"})}),f[0]=e):e=f[0],e}f[1]===Symbol.for("react.memo_cache_sentinel")?(i={opacity:0},o={opacity:1},f[1]=i,f[2]=o):(i=f[1],o=f[2]);let g=y?"Edit Review":"Write Review";return f[3]!==g?(a=(0,t.jsx)("h1",{className:"text-4xl font-black tracking-tighter text-brand-black uppercase italic",children:g}),f[3]=g,f[4]=a):a=f[4],f[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("p",{className:"text-sm font-bold text-gray-400",children:"수료 소감을 정직하게 작성해주세요."}),f[5]=l):l=f[5],f[6]!==a?(c=(0,t.jsx)(u.motion.div,{initial:i,animate:o,className:"mb-8 flex justify-between items-end",children:(0,t.jsxs)("div",{className:"space-y-2",children:[a,l]})}),f[6]=a,f[7]=c):c=f[7],f[8]!==y?(d=y?(0,t.jsx)(s.default.Suspense,{fallback:(0,t.jsx)("div",{className:"py-20 text-center font-bold text-gray-400",children:"LOADING POST DATA..."}),children:(0,t.jsx)(m,{id:parseInt(y)})}):(0,t.jsx)(h,{}),f[8]=y,f[9]=d):d=f[9],f[10]!==c||f[11]!==d?(p=(0,t.jsx)(n.ApolloWrapper,{children:(0,t.jsx)("div",{className:"flex flex-col w-full py-20 bg-brand-gray/20 min-h-screen",children:(0,t.jsxs)("div",{className:"container mx-auto px-6 max-w-5xl",children:[c,d]})})}),f[10]=c,f[11]=d,f[12]=p):p=f[12],p}e.s(["default",()=>y],38063)},11043,e=>{e.v(t=>Promise.all(["static/chunks/86a708bd7890ccc7.js"].map(t=>e.l(t))).then(()=>t(30122)))}]);